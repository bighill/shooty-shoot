{"version":3,"sources":["collision.js","enemy.js","init.js","key.js","score.js","shooter.js","shootyshoot-data.js","shootyshoot.js","shot.js","state.js","view.js"],"names":["Lose","enemies","shooter","_shooterCollision","Hit","shots","_shotCollision","i","length","enemyBottom","y","r","shooterTop","hit","_shotCollisionEachEnemy","enemy","enemyI","_shotCollisionEachShot","shot","shotI","enemyEdge","top","bottom","left","x","right","window","Enemy","this","data","rowN","colN","moveMultp","rowWmultp","shiftWmultp","rowW","shiftW","shiftH","enemyR","shiftV","xDelta","yDelta","movingRight","movingDown","prototype","init","z","v","enemiesAndGapsN","defaultX","defaultY","n","initEachEnemy","state","shift","push","animate","movement","processState","_moveEnemiesDown","_moveEnemiesHorizontally","_processEach","d","_incrementDownwardMovement","_movingDownIsComplete","map","_moveEnemyDown","_incrementHorizontalMovement","_movingHorizontallyIsComplete","_moveEnemyRight","_moveEnemyLeft","splice","playBtnListeners","State","set","document","removeEventListener","addEventListener","btns","getElementsByClassName","ShootyShoot","play","key","listen","keyDown","keyUp","ev","keyCode","keyLeft","keyRight","keyShoot","Score","els","initEnemies","hits","accuracy","draw","_setElText","setGetAccuracy","_calcPercentage","actual","possible","p","Math","round","txt","textContent","Shooter","defaultOpacity","shootOpacity","currentOpacity","wMultp","isMovingLeft","isMovingRight","isShooting","delayShot","stall","isLeftRightStall","moveLeft","moveRight","fadingOpacity","x0","m","x1","setShotOpacity","shshData","speed","isPlaying","el","game","getElementById","score","canvas","home","lose","win","homeH1","querySelector","homePlayBtn","playBtns","offsetWidth","load","Shot","drawScoreboard","ctx","getContext","width","height","clearRect","view","drawFromRequestAnimationFrame","shoot","requestAnimationFrame","bool","engageDelay","launch","setTimeout","releaseDelay","items","accel","s","_move","_isMiss","processStateEach","current","available","id","display","apply","clear","style","beginPath","fillStyle","arc","PI","fill","rect"],"mappings":"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","file":"js.js","sourcesContent":["(function(){ 'use strict';\n\n/*\n|\n|   collisions\n|\n*/\n\n/*\n|\n|   check if the game has been lost\n|\n|   ...the game is lost when one or more ememies reach the shooter\n|\n*/\nvar Lose = function( enemies, shooter )\n{\n    //\n    //  check for enemy collision with shooter\n    //\n    if ( _shooterCollision(enemies, shooter) )\n        return true;\n\n    return false;\n};\n\n/*\n|\n|   check for hit\n|\n|   ...a hit (or kill) occurs when a shot collides with an enemy\n|\n*/\nvar Hit = function( enemies, shots )\n{\n    //\n    //  check for enemy collision with shot\n    //\n    return _shotCollision(enemies, shots);\n};\n\n/*\n|\n|   helper function used in Lose()\n|\n*/\nvar _shooterCollision = function( enemies, shooter )\n{\n    for ( var i = enemies.length - 1; i >= 0; i-- )\n    {\n        var enemyBottom = enemies[i].y + enemies[i].r,\n            shooterTop  = shooter.y - shooter.r;\n\n        if ( enemyBottom > shooterTop )\n            return true;\n    }\n\n    return false;\n};\n\n/*\n|\n|   helper function used in Hit()\n|\n*/\nvar _shotCollision = function( enemies, shots )\n{\n    if ( !enemies.length )\n        return false;\n\n    if ( !shots.length )\n        return false;\n\n    //\n\n    var hit = false;\n\n    for ( var i = enemies.length - 1; i >= 0; i-- )\n    {\n        hit = _shotCollisionEachEnemy( enemies[i], i, shots );\n\n        if ( hit )\n            return hit;\n    }\n\n    return false;\n};\n\n/*\n|\n|   helper function used in _shotCollision()\n|\n*/\nvar _shotCollisionEachEnemy = function( enemy, enemyI, shots )\n{\n    var hit = false;\n\n    for ( var i = shots.length - 1; i >= 0; i-- )\n    {\n        hit = _shotCollisionEachShot( enemy, enemyI, shots[i], i );\n\n        if ( hit )\n            return hit;\n    }\n\n    return false;\n};\n\n/*\n|\n|   helper function used in _shotCollisionEachEnemy()\n|\n*/\nvar _shotCollisionEachShot = function( enemy, enemyI, shot, shotI )\n{\n    var enemyEdge = {};\n    enemyEdge.top    = enemy.y - enemy.r;\n    enemyEdge.bottom = enemy.y + enemy.r;\n    enemyEdge.left   = enemy.x - enemy.r;\n    enemyEdge.right  = enemy.x + enemy.r;\n\n    //\n    //  return false if shot missed all enemies\n    //\n    if ( shot.y < enemyEdge.top)\n        return false;\n\n    if ( shot.y > enemyEdge.bottom )\n        return false;\n\n    if ( shot.x < enemyEdge.left )\n        return false;\n\n    if ( shot.x > enemyEdge.right )\n        return false;\n\n    //\n    //  no misses means there was a hit\n    //  return the enemy and shot that should be deactivated\n    //\n    return {\n        'enemy' : enemyI,\n        'shot'  : shotI,\n    };\n};\n\nwindow.Lose = Lose;\nwindow.Hit  = Hit;\n\n})();\n\n// EOF","(function(){ 'use strict';\n\n/*\n|\n|   enemy\n|\n*/\n\nvar Enemy = function()\n{\n    this.data = {\n\n        //\n        //  number of rows\n        //\n        rowN : 5,\n\n        //\n        //  number of enemies in each row\n        //\n        colN : 10,\n\n        //\n        //  enemy movement speed multiplier\n        //\n        moveMultp : 0.008,\n\n        //\n        //  row width multiplier and shift width multiplier should add up to 1\n        //\n        rowWmultp   : 0.7,\n        shiftWmultp : 0.3,\n\n        //\n        //  data for state of each enemy\n        //\n        enemies : [],\n\n        //\n        //  values set by init()\n        //\n        rowW    : 0,\n        shiftW  : 0,\n        shiftH  : 0,\n        enemyR  : 0,\n        shiftV  : 0,\n\n        //\n        //  track enemy shift direction\n        //\n        xDelta      : 0,\n        yDelta      : 0,\n        movingRight : true,\n        movingDown  : false,\n    };\n};\n\n/*\n|\n|   initialize enemies\n|\n*/\nEnemy.prototype.init = function( z, v )\n{\n    //\n    //  set global enemy values\n    //\n    this.data.rowW   = z * this.data.rowWmultp;\n    this.data.shiftW = z * this.data.shiftWmultp;\n    this.data.shiftV = this.data.moveMultp * z * v;\n    \n    var enemiesAndGapsN = ( this.data.colN * 2 ) - 1;  \n    this.data.enemyR    = ( this.data.rowW / enemiesAndGapsN ) / 2;\n\n    this.data.shiftH = this.data.enemyR;\n\n    //\n    //  initial values for enemy\n    //\n    var x = this.data.enemyR,\n        y = this.data.enemyR,\n        r = this.data.enemyR,\n        defaultX = x,\n        defaultY = y;\n\n    //\n    //  initialize each enemy\n    //\n    for ( var n = this.data.rowN - 1; n >= 0; n-- )\n    {\n        for ( var i = this.data.colN - 1; i >= 0; i-- )\n        {\n            this.initEachEnemy( x, y, r );        \n            x = x + ( r * 4 );\n        }\n\n        x = defaultX;\n        y = defaultY + ( r * 4 * n );\n    }\n};\n\n/*\n|\n|   initialize each enemy\n|\n*/\nEnemy.prototype.initEachEnemy = function( x, y, r )\n{\n    var enemy = {\n            x : x,\n            y : y,\n            r : r,\n            state : 'active',\n            shift : this.data.shiftV,\n        };\n\n    this.data.enemies.push( enemy );\n};\n\n/*\n|\n|   animate enemies\n|\n*/\nEnemy.prototype.animate = function()\n{\n    this.movement();\n    this.processState();\n};\n\n/*\n|\n|   determine enemy movement\n|\n*/\nEnemy.prototype.movement = function()\n{\n    if ( !this.data.enemies[0] )\n        return false;\n\n    this.data = ( this.data.movingDown ) ?\n        _moveEnemiesDown( this.data )    :\n        _moveEnemiesHorizontally( this.data );\n};\n\n/*\n|\n|   determine state of each enemies\n|\n*/\nEnemy.prototype.processState = function()\n{\n    for ( var i = this.data.enemies.length - 1; i >= 0; i-- )\n        _processEach( this.data.enemies[i], i, this.data.enemies );\n};\n\n/*\n|\n|   set an enemy's state to 'hit'\n|\n*/\nEnemy.prototype.hit = function( i )\n{\n    this.data.enemies[i].state = 'hit';\n};\n\n/*\n|\n|   helper function used in Enemy.prototype.movement()\n|\n*/\nvar _moveEnemiesDown = function( d )\n{\n    //\n    //  increment downward movement with yDelta\n    //\n    d = _incrementDownwardMovement( d );\n\n    //\n    //  check if done moving down\n    //\n    if ( d.yDelta >= d.shiftH )\n        d = _movingDownIsComplete( d );\n\n    //\n    //  adjust enemy postitions\n    //\n    d.enemies = d.enemies.map( _moveEnemyDown );\n\n    return d;\n};\n\n/*\n|\n|   helper function used in Enemy.prototype.movement()\n|\n*/\nvar _moveEnemiesHorizontally = function( d )\n{\n    //\n    //  increment downward movement with xDelta\n    //\n    d = _incrementHorizontalMovement( d );\n\n    //\n    //  check if done moving horizontally\n    //\n    if ( d.xDelta >= d.shiftW )\n        d = _movingHorizontallyIsComplete( d );\n\n    //\n    //  adjust enemy postitions\n    //\n    d.enemies = ( d.movingRight )        ?\n        d.enemies.map( _moveEnemyRight ) :\n        d.enemies.map( _moveEnemyLeft );\n\n    return d;\n};\n\n/*\n|\n|   helper function used in _moveEnemiesDown()\n|\n*/\nvar _incrementDownwardMovement = function( d )\n{\n    d.yDelta = d.yDelta + d.shiftV;\n\n    return d;\n};\n\n/*\n|\n|   helper function used in _moveEnemiesDown()\n|\n*/\nvar _movingDownIsComplete = function( d )\n{\n    d.movingDown    = false;\n    d.yDelta        = 0;\n\n    return d;\n};\n\n/*\n|\n|   helper function used in _moveEnemiesDown()\n|\n*/\nvar _moveEnemyDown = function( enemy )\n{\n    enemy.y = enemy.y + enemy.shift;\n\n    return enemy;\n};\n\n/*\n|\n|   helper function used in _moveEnemiesHorizontally()\n|\n*/\nvar _incrementHorizontalMovement = function( d )\n{\n    d.xDelta = d.xDelta + d.shiftV;\n\n    return d;\n};\n\n/*\n|\n|   helper function used in _moveEnemiesHorizontally()\n|\n*/\nvar _movingHorizontallyIsComplete = function( d )\n{\n    d.movingRight   = !d.movingRight;\n    d.xDelta        = 0;\n    d.movingDown    = true;\n\n    return d;\n};\n\n/*\n|\n|   helper function used in _moveEnemiesHorizontally()\n|\n*/\nvar _moveEnemyRight = function( enemy )\n{\n    enemy.x = enemy.x + enemy.shift;\n\n    return enemy;\n};\n\n/*\n|\n|   helper function used in _moveEnemiesHorizontally()\n|\n*/\nvar _moveEnemyLeft = function( enemy )\n{\n    enemy.x = enemy.x - enemy.shift;\n\n    return enemy;\n};\n\n/*\n|\n|   helper function used in Enemy.prototype.processState()\n|\n*/\nvar _processEach = function( enemy, enemyI, enemies )\n{\n    if ( enemy.state == 'hit' )\n        enemies.splice( enemyI, 1 );\n};\n\nwindow.Enemy = Enemy;\n})();\n\n// EOF\n","(function(){ 'use strict';\n\n/*\n|\n|   init\n|\n*/\n\nvar init = function()\n{\n    playBtnListeners();\n\n    State.set( 'home' );\n\n    document.removeEventListener( \"DOMContentLoaded\", init );\n};\ndocument.addEventListener( 'DOMContentLoaded', init );\n\n/*\n|\n|   enable play buttons\n|\n*/\nvar playBtnListeners = function()\n{\n    var btns = document.getElementsByClassName( 'play-btn' );\n\n    for ( var i = btns.length - 1; i >= 0; i-- )\n        btns[i].addEventListener( 'click', ShootyShoot.play );\n};\n\n})();\n\n// EOF\n","(function(){ 'use strict';\n\n/*\n|\n|   keyboard commands\n|\n*/\n\nvar key = {\n\n    listen : function()\n    {\n        window.addEventListener( 'keydown', key.keyDown );\n        window.addEventListener( 'keyup', key.keyUp );\n    }\n};\n\n/*\n|\n|   key press\n|\n*/\nkey.keyDown = function( ev )\n{\n    //\n    //  left key\n    //\n    if ( ev.keyCode == 37 )\n        ShootyShoot.keyLeft( true );\n\n    //\n    // right key\n    //\n    if ( ev.keyCode == 39 )\n        ShootyShoot.keyRight( true );\n\n    //\n    // ctrl & space keys\n    //\n    if ( ev.keyCode == 17 || ev.keyCode == 32 )\n        ShootyShoot.keyShoot( true );\n};\n\n/*\n|\n|   key un press\n|\n*/\nkey.keyUp = function( ev )\n{\n    //\n    //  left key\n    //\n    if ( ev.keyCode == 37 )\n        ShootyShoot.keyLeft( false );\n\n    //\n    // right key\n    //\n    if ( ev.keyCode == 39 )\n        ShootyShoot.keyRight( false );\n\n    //\n    // ctrl & space keys\n    //\n    if ( ev.keyCode == 17 || ev.keyCode == 32 )\n        ShootyShoot.keyShoot( false );\n};\n\nwindow.key = key;\n})();\n\n// EOF\n","(function(){ 'use strict';\n\n/*\n|\n|   score\n|\n|   ...track score board stats\n|\n*/\n\nvar Score = function( enemies, els )\n{\n    this.data = {\n        initEnemies : enemies,\n        enemies     : enemies,\n        shots       : 0,\n        hits        : 0,\n        accuracy    : 0,\n    };\n\n    this.els = els;\n};\n\n/*\n|\n|   draw\n|\n|   ...display score stats in scoreboard\n|\n*/\nScore.prototype.draw = function()\n{\n    _setElText( this.els.shots, this.data.shots );\n    _setElText( this.els.hits, this.data.hits );\n    _setElText( this.els.accuracy, this.setGetAccuracy() );\n};\n\n/*\n|\n|   shot\n|\n|   ...record a new shot\n|\n*/\nScore.prototype.shot = function()\n{\n    this.data.shots++;\n    return this.data.shots;\n};\n\n/*\n|\n|   hit\n|\n|   ...record a new hit\n|\n*/\nScore.prototype.hit = function()\n{\n    this.data.hits++;\n    this.data.enemies--;\n\n    return this.data.hits;\n};\n\n/*\n|\n|   set/get accuracy\n|\n|   ...determine current accuracy and return that\n|\n*/\nScore.prototype.setGetAccuracy = function()\n{\n    //\n    //\n    //\n    if ( !this.data.shots )\n        return this.data.accuracy;\n\n    //\n    //\n    //\n    this.data.accuracy = _calcPercentage( this.data.hits, this.data.shots );\n\n    return this.data.accuracy;\n};\n\n/*\n|\n|   calculate percentage\n|\n*/\nvar _calcPercentage = function( actual, possible )\n{\n    var p = actual / possible;\n\n    p = p * 100;\n    p = Math.round( p );\n\n    return p;\n};\n\n/*\n|\n|   set element text\n|\n|   ...apply to scoreboard dom elements\n|\n*/\nvar _setElText = function( els, txt )\n{\n    for ( var i = els.length - 1; i >= 0; i-- )\n        els[i].textContent = txt;\n\n    return txt;\n};\n\n\nwindow.Score = Score;\n\n})();\n\n// EOF\n","(function(){ 'use strict';\n\n/*\n|\n|   shooter\n|\n*/\n\nvar Shooter = function()\n{\n    //\n    //  data for the view\n    //\n    this.v = {\n\n        x : null,\n        y : null,\n        r : null,\n\n        defaultOpacity  : 0.5,\n        shootOpacity    : 0.7,\n        currentOpacity  : null,\n    };\n\n    //\n    // multipliers\n    //\n    this.wMultp      = 0.05;\n    this.moveMultp   = 0.01;\n\n    //\n    // actions\n    //\n    this.isMovingLeft    = false;\n    this.isMovingRight   = false;\n    this.isShooting    = false;\n    this.delayShot   = false;\n};\n\n/*\n|\n|   init\n|\n*/\nShooter.prototype.init = function( z )\n{\n    this.v.r = z * this.wMultp;\n    this.v.x = ( z / 2 );\n    this.v.y = z - this.v.r - 1;\n\n    this.v.currentOpacity = this.v.defaultOpacity;\n};\n\n/*\n|\n|   animate\n|\n*/\nShooter.prototype.animate = function( z )\n{\n    var stall = this.isLeftRightStall();\n\n    if ( this.isMovingLeft && !stall )\n        this.moveLeft( z );\n\n    if ( this.isMovingRight && !stall )\n        this.moveRight( z );\n\n    this.fadingOpacity();\n};\n\n/*\n|\n|   move left\n|\n*/\nShooter.prototype.moveLeft = function( z )\n{\n    var x0  = this.v.x,\n        r   = this.v.r,\n        m   = this.moveMultp,\n        x1  = x0 - ( z * m );\n\n    if ( x1 - r >= 1 )\n        this.v.x = x1;\n};\n\n/*\n|\n|   move right\n|\n*/\nShooter.prototype.moveRight = function( z )\n{\n    var x0  = this.v.x,\n        r   = this.v.r,\n        m   = this.moveMultp,\n        x1  = x0 + ( z * m );\n\n    if ( x1 + r <= z - 1 )\n        this.v.x = x1;\n};\n\n/*\n|\n|   stall sanity check\n|\n|   ...check if both left and right keys are pressed at the same time\n|\n*/\nShooter.prototype.isLeftRightStall = function()\n{\n    return this.isMovingLeft && this.isMovingRight;\n};\n\n/*\n|\n|   shot opacity\n|\n|   ...change the opacity when shot is fired\n|\n*/\nShooter.prototype.setShotOpacity = function()\n{\n    this.v.currentOpacity = this.v.shootOpacity;\n};\n\n/*\n|\n|   fade opacity\n|\n|   ...after shot is fired, begin fading back to original opacity\n|\n*/\nShooter.prototype.fadingOpacity = function()\n{\n    if ( this.v.currentOpacity > this.v.defaultOpacity )\n        this.v.currentOpacity = this.v.currentOpacity - 0.01;\n};\n\n\n\nwindow.Shooter = Shooter;\n})();\n\n// EOF\n","(function(){ 'use strict';\n\n/*\n|\n|   global game data\n|\n*/\n\nvar shshData = function()\n{\n    this.speed      = 0.5;\n    this.isPlaying  = false;\n    this.z          = 0;\n\n    this.el = {\n        game    : document.getElementById( 'shooty-shoot' ),\n        score   : document.getElementById( 'score' ),\n        canvas  : document.getElementById( 'shooty-shoot-canvas' ),\n        home    : document.getElementById( 'home' ),\n        lose    : document.getElementById( 'lose' ),\n        win     : document.getElementById( 'win' ),\n\n        homeH1      : document.querySelector( '#home h1' ),\n        homePlayBtn : document.getElementById( 'home-play-btn' ),\n    };\n\n    this.els = {\n        playBtns : document.getElementsByClassName( 'play-btn' ),\n        shots    : document.getElementsByClassName( 'shots' ),\n        hits     : document.getElementsByClassName( 'hits' ),\n        accuracy : document.getElementsByClassName( 'accuracy' ),\n        keyLeft  : document.getElementsByClassName( 'key-left' ),\n        keyRight : document.getElementsByClassName( 'key-right' ),\n        keyShoot : document.getElementsByClassName( 'key-shoot' ),\n    };\n};\n\nshshData.prototype.init = function()\n{\n    this.z = this.el.canvas.offsetWidth;\n};\n\nwindow.shshData = shshData;\n})();\n\n// EOF\n","(function(){ 'use strict';\n\n/*\n|\n|   shooty shoot\n|\n|   ...primary controller\n|\n*/\n\nvar ShootyShoot = {\n\n    data    : {},\n    shooter : {},\n    shot    : {},\n    enemy   : {},\n};\n\n/*\n|\n|   play\n|\n*/\nShootyShoot.play = function()\n{\n    State.set( 'shooty-shoot' );\n\n    ShootyShoot.load();\n};\n\n/*\n|\n|   load (initialize)\n|\n*/\nShootyShoot.load = function()\n{\n    //\n    //  global\n    //\n    this.data = new shshData();\n    this.data.init();\n\n    //\n    //  keyboard listeners\n    //\n    key.listen();\n\n    //\n    //  shooter\n    //\n    this.shooter = new Shooter();\n    this.shooter.init( this.data.z );\n\n    //\n    //  enemies\n    //\n    this.enemy = new Enemy();\n    this.enemy.init( this.data.z, this.data.speed );\n\n    //\n    //  shot\n    //\n    this.shot = new Shot();\n    this.shot.init( this.data.z );\n\n    //\n    //  score board\n    //\n    this.score = new Score( this.enemy.data.enemies.length, this.data.els );\n    this.drawScoreboard();\n\n    //\n    //  draw\n    //\n    this.data.isPlaying = true;\n    this.draw();\n};\n\n/*\n|\n|   draw each frame\n|\n*/\nShootyShoot.draw = function()\n{\n    //\n    //  canvas\n    //\n    var ctx = this.data.el.canvas.getContext( '2d' );\n    ctx.canvas.width  = this.data.z;\n    ctx.canvas.height = this.data.z;\n    ctx.clearRect( 0, 0, this.data.z, this.data.z );\n\n    //\n    //  draw elements\n    //\n    view.shooter( this.shooter.v, ctx );\n    view.shots( this.shot.data, ctx );\n    view.enemies( this.enemy.data.enemies, ctx );\n\n    //\n    //  animate data for next frame\n    //\n    this.animate();\n};\nShootyShoot.drawFromRequestAnimationFrame = function()\n{\n    ShootyShoot.draw();\n};\n\n/*\n|\n|   animate\n|\n|   ...adjust data for next frame\n|\n*/\nShootyShoot.animate = function()\n{\n    //\n    //  check for win\n    //\n    if ( !this.enemy.data.enemies[0] )\n        this.win();\n\n    //\n    //  shooter actions\n    //\n    this.shooter.animate( this.data.z );\n\n    if ( this.shooter.isShooting )\n        this.shoot();\n\n    //\n    //  shots\n    //\n    this.shot.animate();\n\n    //\n    //  enemy movement\n    //\n    this.enemy.animate();\n\n    //\n    //  check for collisions\n    //\n    var lose = Lose( this.enemy.data.enemies, this.shooter.v );\n    if ( lose )\n        this.lose();\n\n    var hit = Hit( this.enemy.data.enemies, this.shot.data );\n    if ( hit )\n        this.hit( hit );\n\n    //\n    //  draw next frame\n    //\n    if ( this.data.isPlaying )\n        window.requestAnimationFrame( this.drawFromRequestAnimationFrame );\n};\n\n/*\n|\n|   process keyboard events\n|\n*/\nShootyShoot.keyLeft = function( bool )\n{\n    this.shooter.isMovingLeft = bool;    \n};\nShootyShoot.keyRight = function( bool )\n{\n    this.shooter.isMovingRight = bool;\n};\nShootyShoot.keyShoot = function( bool )\n{\n    this.shooter.isShooting = bool;\n};\n\n/*\n|\n|   process a shot\n|\n*/\nShootyShoot.shoot = function()\n{\n    //\n    //  shot delay\n    //\n    if ( this.shooter.delayShot )\n        return false;\n\n    this.engageDelay();\n\n    //\n    //  shooter\n    //\n    this.shooter.setShotOpacity();\n\n    //\n    //  shot\n    //\n    this.shot.launch( this.shooter.v );\n\n    //\n    //  score board\n    //\n    this.score.shot();\n};\n\n/*\n|\n|   engage shot delay\n|\n|   ...delay shots a bit, no need to shoot on every frame\n|\n*/\nShootyShoot.engageDelay = function()\n{\n    this.shooter.delayShot = true;\n    window.setTimeout( this.releaseDelay, 300);\n};\n\n/*\n|\n|   release shot delay\n|\n*/\nShootyShoot.releaseDelay = function()\n{\n    ShootyShoot.shooter.delayShot = false;\n};\n\n/*\n|\n|   scoreboard\n|\n*/\nShootyShoot.drawScoreboard = function()\n{\n    ShootyShoot.score.draw();\n\n    window.setTimeout( function() { ShootyShoot.drawScoreboard(); }, 500);\n};\n\n/*\n|\n|   hit\n|\n*/\nShootyShoot.hit = function( items )\n{\n    this.enemy.hit( items.enemy );\n    this.shot .hit( items.shot  );\n    this.score.hit();\n};\n\n/*\n|\n|   lose\n|\n*/\nShootyShoot.lose = function()\n{\n    this.data.isPlaying = false;\n    State.set( 'lose' );\n};\n\n/*\n|\n|   win\n|\n*/\nShootyShoot.win = function()\n{\n    this.data.isPlaying = false;\n    State.set( 'win' );\n};\n\n\nwindow.ShootyShoot = ShootyShoot;\n})();\n\n// EOF\n","(function(){ 'use strict';\n\n/*\n|\n|   shot\n|\n*/\n\nvar Shot = function()\n{\n    this.data  = [];\n    this.accel = null;\n};\n\n/*\n|\n|   init\n|\n*/\nShot.prototype.init = function( z )\n{\n    this.accel = z * 0.01;\n};\n\n/*\n|\n|   launch new shot\n|\n*/\nShot.prototype.launch = function( d )\n{\n    var s = {\n        x       : d.x,\n        y       : d.y - d.r,\n        state   : 'active',\n        accel   : this.accel,\n    };\n\n    this.data.push( s );\n};\n\n/*\n|\n|   animate shots\n|\n*/\nShot.prototype.animate = function()\n{\n    this.movement();\n    this.processState();\n};\n\n/*\n|\n|   process shot movement\n|\n*/\nShot.prototype.movement = function()\n{\n    if ( !this.data[0] )\n        return false;\n\n    this.data = this.data.map( _move );\n    this.data = this.data.map( _isMiss );\n};\n\n/*\n|\n|   process shot state\n|\n*/\nShot.prototype.processState = function()\n{\n    if ( !this.data[0] )\n        return false;\n\n    for ( var i = this.data.length - 1; i >= 0; i-- )\n        processStateEach( this.data[i], this.data );\n};\n\n/*\n|\n|   set a shots state as 'hit'\n|\n*/\nShot.prototype.hit = function( i )\n{\n    this.data[i].state = 'hit';\n};\n\n/*\n|\n|   helper function used in Shot.prototype.movement()\n|\n*/\nvar _move = function( i )\n{\n    i.y = i.y - i.accel;\n\n    return i;\n};\n\n/*\n|\n|   helper function used in Shot.prototype.movement()\n|\n*/\nvar _isMiss = function( i )\n{\n    if ( i.y < 0 )\n        i.state = 'miss';\n\n    return i;\n};\n\n/*\n|\n|   helper function used in Shot.prototype.processState()\n|\n*/\nvar processStateEach = function( i, data )\n{\n    if (\n        i.state == 'miss' ||\n        i.state == 'hit'\n    )\n        data.splice( i, 1 );\n};\n\nwindow.Shot = Shot;\n})();\n\n// EOF\n","(function(){ 'use strict';\n\n/*\n|\n|   state\n|\n|   ...manage which pane should be visible\n|\n*/\n\nvar State = {\n\n    current : '',\n\n    //\n    //  the available panes\n    //  'id' describes the element pane\n    //  'display' describes the display method for pane\n    //\n    available : [\n        {\n            id      : 'shooty-shoot',\n            display : 'flex',\n        },\n        {\n            id      : 'home',\n            display : 'flex',\n        },\n        {\n            id      : 'lose',\n            display : 'flex',\n        },\n        {\n            id      : 'win',\n            display : 'flex',\n        },\n    ],\n};\n\n/*\n|\n|   set new state\n|\n*/\nState.set = function( s )\n{\n    for ( var i = this.available.length - 1; i >= 0; i-- )\n    {\n        if ( this.available[i].id == s )\n            this.apply( this.available[i] );\n    }\n};\n\n/*\n|\n|   apply new state\n|\n|   ...used in State.set()\n|\n*/\nState.apply = function( s )\n{\n    this.current = s.id;\n\n    this.clear();\n\n    document\n        .getElementById( s.id )\n        .style\n        .display = s.display;\n};\n\n/*\n|\n|   undisplay all panes\n|\n|   ...used in State.apply()\n|\n*/\nState.clear = function()\n{\n    for ( var i = this.available.length - 1; i >= 0; i-- )\n        document\n            .getElementById( this.available[i].id )\n            .style.display = 'none';\n};\n\nwindow.State = State;\n\n})();\n\n// EOF\n","(function(){ 'use strict';\n\n/*\n|\n|   views\n|\n|   ...canvas templates for each piece of the game\n|\n*/\n\nvar view = {};\n\n/*\n|\n|   shooter\n|\n*/\nview.shooter = function( d, ctx )\n{\n    ctx.beginPath();\n    ctx.fillStyle = 'rgba( 126, 192, 238, '+ d.currentOpacity +' )';\n    ctx.arc( d.x, d.y, d.r, 0, 2 * Math.PI );\n    ctx.fill();\n};\n\n/*\n|\n|   enemies\n|\n*/\nview.enemies = function( d, ctx )\n{\n    for ( var i = d.length - 1; i >= 0; i-- )\n        enemy( d[i], ctx );\n};\n\n/*\n|\n|   enemy\n|\n|   ...used by view.enemies()\n|\n*/\nvar enemy = function( i, ctx )\n{\n    ctx.beginPath();\n    ctx.fillStyle = 'rgba( 255, 99, 71, 0.5 )';\n    ctx.arc( i.x, i.y, i.r, 0, 2 * Math.PI );\n    ctx.fill();\n};\n\n/*\n|\n|   shots\n|\n*/\nview.shots = function( d, ctx )\n{\n    for ( var i = d.length - 1; i >= 0; i-- )\n        shot( d[i], ctx );\n};\n\n/*\n|\n|   shot\n|\n|   ...used by view.shots()\n|\n*/\nvar shot = function( i, ctx )\n{\n    ctx.beginPath();\n    ctx.fillStyle = 'white';\n    ctx.rect( i.x, i.y, 5, 5 );\n    ctx.fill();\n};\n\nwindow.view = view;\n})();\n\n// EOF\n"],"sourceRoot":"/source/"}