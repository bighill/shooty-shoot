{"version":3,"sources":["enemy.js","global.js","init.js","score.js","shooter.js","shot.js","state.js","utility.js"],"names":["Enemy","rowN","colN","moveMultp","rowWmultp","shiftWmultp","data","val","rowW","shiftW","shiftH","enemyR","shiftV","xDelta","yDelta","movingRight","movingDown","init","self","G","z","speed","enemiesAndGapsN","x","y","r","defaultX","defaultY","n","i","setRow","Score","setEnemies","enemy","state","this","push","draw","ctx","win","iDwn","length","_adjustEnemy","_drawEnemy","_deactivate","beginPath","fillStyle","arc","Math","PI","fill","splice","window","isPlaying","top","left","el","game","document","getElementById","score","canvas","home","lose","els","playBtns","getElementsByClassName","shots","hits","accuracy","setTimeout","setZ","Shooter","offsetWidth","drawCanvas","getContext","width","height","clearRect","Shot","requestAnimationFrame","play","State","set","addEventListener","U","reload","playBtnListeners","removeEventListener","btns","initEnemies","enemies","_setElText","setGetAccuracy","shot","hit","_calcPercentage","actual","possible","p","round","txt","textContent","wMultp","defaultOpacity","shootOpacity","currentOpacity","moveLeft","moveRight","shooting","delayShot","keyPress","keyRelease","right","shoot","ev","keyCode","newX","engageDelay","launch","releaseDelay","_drawEach","_isMiss","_drawShot","rect","current","available","id","display","s","apply","clear","style","loop","a","location","arr","fn"],"mappings":"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","file":"js.js","sourcesContent":["(function(){ 'use strict';\n\n/*\n|\n|   enemy\n|\n|   ...boooo\n|\n*/\n\nvar Enemy = {\n\n    //\n    //  number of rows\n    //\n    rowN : 5,\n\n    //\n    //  number of enemies in each row\n    //\n    colN : 9,\n\n    //\n    //  enemy movement speed multiplier\n    //\n    moveMultp : 0.008,\n\n    //\n    //  row width multiplier and shift width multiplier should add up to 1\n    //\n    rowWmultp   : 0.7,\n    shiftWmultp : 0.3,\n\n    //\n    //  data for state of each enemy\n    //\n    data : [],\n\n    //\n    //  values set initially and during play\n    //\n    val : {\n\n        //\n        //  values set by sizer()\n        //\n        rowW    : 0,\n        shiftW  : 0,\n        shiftH  : 0,\n        enemyR  : 0,\n        shiftV  : 0,\n\n        //\n        //  track enemy shift direction\n        //\n        xDelta      : 0,\n        yDelta      : 0,\n        movingRight : true,\n        movingDown  : false,\n    },\n};\n\n/*\n|\n|   init\n|\n*/\nEnemy.init = function()\n{\n    var self = Enemy;\n\n    //\n    //  set global enemy values\n    //\n    self.val.rowW   = G.z * self.rowWmultp;\n    self.val.shiftW = G.z * self.shiftWmultp;\n    self.val.shiftV = self.moveMultp * G.z * G.speed;\n    \n    var enemiesAndGapsN = ( self.colN * 2 ) - 1;    \n    self.val.enemyR = ( self.val.rowW / enemiesAndGapsN ) / 2;\n\n    self.val.shiftH = self.val.enemyR;\n\n    //\n    //  default values for each enemy\n    //\n    var x = self.val.enemyR,\n        y = self.val.enemyR,\n        r = self.val.enemyR,\n        defaultX = x,\n        defaultY = y;\n\n    //\n    //  initialize each enemy\n    //\n    for ( var n = self.rowN - 1; n >= 0; n-- )\n    {\n        for ( var i = self.colN - 1; i >= 0; i-- )\n        {\n            self.setRow( x, y, r );        \n            x = x + ( r * 4 );\n        }\n\n        x = defaultX;\n        y = defaultY + ( r * 4 * n );\n    }\n\n    //\n    //  notify scoreboard, total # of enemies\n    //\n    Score.setEnemies( self.rowN * self.colN );\n};\n\n/*\n|\n|   set row\n|\n|   ...initialize data for row of enemies\n|\n*/\nEnemy.setRow = function( x, y, r )\n{\n    var enemy = {\n            x : x,\n            y : y,\n            r : r,\n            state : 'active',\n        };\n\n    this.data.push( enemy );\n};\n\n/*\n|\n|   draw\n|\n|   ...start drawing all enemies\n|\n*/\nEnemy.draw = function( ctx )\n{\n    if ( !this.data[0] )\n    {\n        G.win();\n        return false;\n    }\n\n    if ( this.val.movingDown )\n    {\n        this.val.yDelta = this.val.yDelta + this.val.shiftV;\n\n        if ( this.val.yDelta >= this.val.shiftH )\n        {\n            this.val.movingDown = false;\n            this.val.yDelta = 0;\n        }\n\n        for ( var iDwn = this.data.length - 1; iDwn >= 0; iDwn-- )\n            this._adjustEnemy( this.data[iDwn], ctx, iDwn, this.data, this.val.shiftV ); \n    }\n    else\n    {\n        this.val.xDelta = this.val.xDelta + this.val.shiftV;\n\n        if ( this.val.xDelta >= this.val.shiftW )\n        {\n            this.val.movingRight = !this.val.movingRight;\n            this.val.xDelta = 0;\n            this.val.movingDown = true;\n        }\n\n        for ( var i = this.data.length - 1; i >= 0; i-- )\n            this._adjustEnemy( this.data[i], ctx, i, this.data, this.val.shiftV );        \n    }\n};\n\n/*\n|\n|   adjust enemy\n|\n|   ...movement and state adjustments for each frame\n|\n*/\nEnemy._adjustEnemy = function( enemy, ctx, i, data, shiftV )\n{\n    //\n    // movement\n    //\n    if ( this.val.movingDown )\n        enemy.y = enemy.y + shiftV;\n\n    else if ( this.val.movingRight )\n        enemy.x = enemy.x + shiftV;\n\n    else\n        enemy.x = enemy.x - shiftV;\n\n    //\n    //  state\n    //\n    if ( enemy.state == 'active' )\n        this._drawEnemy( enemy, ctx );\n\n    else if ( enemy.state == 'dead' )\n        this._deactivate( i, data );\n\n    else\n        this._deactivate( i, data );\n};\n\n/*\n|\n|   draw enemy\n|\n|   ...draw enemy on the canvas\n|\n*/\nEnemy._drawEnemy = function( enemy, ctx )\n{\n    ctx.beginPath();\n    ctx.fillStyle = 'rgba( 255, 99, 71, 0.5 )';\n    ctx.arc( enemy.x, enemy.y, enemy.r, 0, 2 * Math.PI );\n    ctx.fill();\n};\n\n/*\n|\n|   deactivate\n|\n|   ...when hit,\n|       an enemy must be sent to a farm upstate\n|       to live out it's final days frolicing in the country side.\n|\n*/\nEnemy._deactivate = function( i, data )\n{\n    data.splice( i, 1 );\n};\n\n/*\n|\n|   a gift for window\n|\n*/\nwindow.Enemy = Enemy;\n\n})();\n\n// EOF\n","(function(){ 'use strict';\n\n/*\n|\n|   global\n|\n|   ...main object for controlling the game\n|\n*/\n\nvar G = {\n\n    //\n    //  global game speed\n    //\n    speed : 0.3,\n\n    // \n    // values\n    //\n    isPlaying   : false,\n    z           : 0,\n    top         : 0,\n    left        : 0,\n\n    //\n    //  elements\n    //\n    el : {\n        game    : document.getElementById( 'shooty-shoot' ),\n        score   : document.getElementById( 'score' ),\n        canvas  : document.getElementById( 'shooty-shoot-canvas' ),\n        home    : document.getElementById( 'home' ),\n        lose    : document.getElementById( 'lose' ),\n        win     : document.getElementById( 'win' ),\n    },\n    els : {\n        playBtns : document.getElementsByClassName( 'play-btn'),\n        shots    : document.getElementsByClassName( 'shots' ),\n        hits     : document.getElementsByClassName( 'hits' ),\n        accuracy : document.getElementsByClassName( 'accuracy' ), \n    },\n};\n\n/*\n|\n|   init\n|\n*/\nG.init = function()\n{\n    //\n    //  set 'z' value\n    //  ... which represents both width and height of canvas\n    //\n    setTimeout( this.setZ, 0 );\n\n    //\n    //  initialize the shooter\n    //\n    setTimeout( Shooter.init, 0 );\n\n    //\n    //  set enemy defaults\n    //\n    setTimeout( Enemy.init, 0 );\n};\n\n/*\n|\n|   set z\n|\n*/\nG.setZ = function()\n{\n    G.z = G.el.canvas.offsetWidth;\n};\n\n/*\n|\n|   draw canvas\n|\n|   ...the primary controller for drawing to canvas\n|\n*/\nG.drawCanvas = function()\n{\n    var ctx = G.el.canvas.getContext( '2d' );\n\n    ctx.canvas.width  = G.z;\n    ctx.canvas.height = G.z;\n\n    ctx.clearRect( 0, 0, G.z, G.z ); // clear canvas\n\n    //\n    //  check for all possible collisions\n    //\n    //Collision.check();\n\n    //\n    //  draw the elements\n    //\n    Enemy.draw( ctx );\n    Shooter.draw( ctx );\n    Shot.draw( ctx );\n\n    //\n    //  draw next frame\n    //\n    if ( G.isPlaying )\n        window.requestAnimationFrame( G.drawCanvas );\n};\n\n/*\n|\n|   play\n|\n|   ...do all the things needed to start the game\n|\n*/\nG.play = function()\n{\n    G.init();\n    G.isPlaying = true;\n    window.requestAnimationFrame( G.drawCanvas );\n    State.set( 'shooty-shoot' );\n    Score.init();\n};\n\n/*\n|\n|   win\n|\n|   ...do all the things needed the game has been won\n|\n*/\nG.win = function()\n{\n};\n\n/*\n|\n|   lose\n|\n|   ...do all the things needed the game has been lost\n|\n*/\nG.lose = function()\n{\n};\n\nwindow.G = G;\n\n})();\n\n// EOF\n","(function(){ 'use strict';\n\n/*\n|\n|   get the party started\n|\n*/\nvar init = function()\n{\n    //\n    //  if window is resized, just reload and start over\n    //\n    window.addEventListener( 'resize', U.reload );\n\n    //\n    //  button listeners\n    //\n    playBtnListeners( G.els.playBtns );\n\n    //\n    //  display home pane\n    //\n    State.set( 'home' );\n\n    //\n    //  init() is complete\n    //  cleanup the DOMContentLoaded listener\n    //\n    document.removeEventListener( \"DOMContentLoaded\", init );\n};\n\n/*\n|\n|   listeners for buttons outside of the game\n|\n*/\nvar playBtnListeners = function( btns )\n{\n    for ( var i = btns.length - 1; i >= 0; i-- )\n        btns[i].addEventListener( 'click', G.play );\n};\n\n/*\n|\n|   hello browser.  please accept this code.  thx!\n|\n*/\ndocument.addEventListener( 'DOMContentLoaded', init );\n\n})();\n\n// EOF\n","(function(){ 'use strict';\n\n/*\n|\n|   score\n|\n|   ...track score board stats\n|\n*/\n\nvar Score = {\n\n    initEnemies : 0,\n    enemies     : 0,\n    shots       : 0,\n    hits        : 0,\n    accuracy    : 0,\n};\n\n/*\n|\n|   init\n|\n*/\nScore.init = function()\n{\n    this.draw();\n};\n\n/*\n|\n|   draw\n|\n|   ...display score stats in scoreboard\n|\n*/\nScore.draw = function()\n{\n    this._setElText( G.els.shots, this.shots );\n    this._setElText( G.els.hits, this.hits );\n    this._setElText( G.els.accuracy, this.setGetAccuracy() );\n\n    window.setTimeout( function() { Score.draw(); }, 500);\n};\n\n/*\n|\n|   set enemies\n|\n*/\nScore.setEnemies = function( n )\n{\n    this.initEnemies = n;\n    this.enemies     = n;\n\n    return this.enemies;\n};\n\n/*\n|\n|   shot\n|\n|   ...record a new shot\n|\n*/\nScore.shot = function()\n{\n    this.shots++;\n    return this.shots;\n};\n\n/*\n|\n|   hit\n|\n|   ...record a new hit\n|\n*/\nScore.hit = function()\n{\n    this.hits++;\n    this.enemies--;\n\n    return this.hits;\n};\n\n/*\n|\n|   set/get accuracy\n|\n|   ...determine current accuracy and return that\n|\n*/\nScore.setGetAccuracy = function()\n{\n    //\n    //  avoid zero divided by zero\n    //\n    if ( !this.shots )\n        return this.accuracy;\n\n    //\n    //  ok, do the thing\n    //\n    this.accuracy = this._calcPercentage( this.hits, this.shots );\n\n    return this.accuracy;\n};\n\n/*\n|\n|   calculate percentage\n|\n*/\nScore._calcPercentage = function( actual, possible )\n{\n    var p = actual / possible;\n\n    p = p * 100;\n    p = Math.round( p );\n\n    return p;\n};\n\n/*\n|\n|   set element text\n|\n|   ...apply to scoreboard dom elements\n|\n*/\nScore._setElText = function( els, txt )\n{\n    for ( var i = els.length - 1; i >= 0; i-- )\n        els[i].textContent = txt;\n\n    return txt;\n};\n\n/*\n|\n|   a gift for window\n|\n*/\nwindow.Score = Score;\n\n})();\n\n// EOF\n","(function(){ 'use strict';\n\n/*\n|\n|   shooter\n|\n|   ...brrap brrap pew pew\n|\n*/\n\nvar Shooter = {\n\n    //\n    // multipliers\n    //\n    wMultp      : 0.05,\n    moveMultp   : 0.01,\n\n    //\n    //  values set by this.init()\n    //\n    x : 0,\n    y : 0,\n    r : 0,\n\n    //\n    //  opacity\n    //\n    defaultOpacity  : 0.5,\n    shootOpacity    : 0.7,\n    currentOpacity  : 0.5,\n\n    //\n    // actions\n    //\n    moveLeft    : false,\n    moveRight   : false,\n    shooting    : false,\n    delayShot   : false,\n};\n\n/*\n|\n|   init\n|\n|   ...set values and add listeners\n|\n*/\nShooter.init = function()\n{\n    var self = Shooter;\n\n    self.r = G.z * self.wMultp;\n    self.x = ( G.z / 2 );\n    self.y = G.z - self.r - 1;\n\n    window.addEventListener( 'keydown', self.keyPress );\n    window.addEventListener( 'keyup', self.keyRelease );\n};\n\n/*\n|\n|   draw\n|\n|   ...analyze the state of things, adjust as needed, then draw\n|\n*/\nShooter.draw = function( ctx )\n{\n    //\n    //  prepare to draw\n    //\n    ctx.beginPath();\n    ctx.fillStyle = 'rgba( 126, 192, 238, '+this.currentOpacity+' )';\n\n    //\n    //  analyze actions\n    //\n    if ( this.moveLeft )\n        this.left();\n\n    if ( this.moveRight )\n        this.right();\n\n    if ( this.shooting )\n        this.shoot( ctx );\n\n    if ( this.currentOpacity > this.defaultOpacity )\n        this.currentOpacity = this.currentOpacity - 0.01;\n\n    //\n    //  draw\n    //\n    ctx.arc( this.x, this.y, this.r, 0, 2 * Math.PI );\n    ctx.fill();\n};\n\n/*\n|\n|   key press\n|\n*/\nShooter.keyPress = function( ev )\n{\n    //\n    //  left key\n    //\n    if ( ev.keyCode == 37 )\n        Shooter.moveLeft = true;\n\n    //\n    // right key\n    //\n    if ( ev.keyCode == 39 )\n        Shooter.moveRight = true;\n\n    //\n    // ctrl & space keys\n    //\n    if ( ev.keyCode == 17 || ev.keyCode == 32 )\n        Shooter.shooting = true;\n};\n\n/*\n|\n|   key release\n|\n*/\nShooter.keyRelease = function( ev )\n{\n    //\n    //  left key\n    //\n    if ( ev.keyCode == 37 )\n        Shooter.moveLeft = false;\n\n    //\n    // right key\n    //\n    if ( ev.keyCode == 39 )\n        Shooter.moveRight = false;\n\n    //\n    // ctrl & space keys\n    //\n    if ( ev.keyCode == 17 || ev.keyCode == 32 )\n        Shooter.shooting = false;\n};\n\n/*\n|\n|   left\n|\n|   ...move shooter\n|\n*/\nShooter.left = function()\n{\n    var newX = this.x - ( G.z * this.moveMultp );\n\n    if ( newX - this.r >= 1 )\n        this.x = newX ;\n};\n\n/*\n|\n|   right\n|\n|   ...move shooter\n|\n*/\nShooter.right = function()\n{\n    var newX = this.x + ( G.z * this.moveMultp );\n\n    if ( newX + this.r <= G.z - 1 )\n        this.x = newX;\n};\n\n/*\n|\n|   shoot\n|\n*/\nShooter.shoot = function( ctx )\n{\n    if ( this.delayShot )\n        return false;\n\n    this.engageDelay();\n\n    this.currentOpacity = this.shootOpacity;\n    Shot.launch( this.x, this.y - this.r );\n};\n\n/*\n|\n|   engage delay\n|\n|   ...delay shots a bit, no need to shoot on every frame\n|\n*/\nShooter.engageDelay = function()\n{\n    this.delayShot = true;\n    window.setTimeout( this.releaseDelay, 300);\n};\n\n/*\n|\n|   release delay\n|\n*/\nShooter.releaseDelay = function()\n{        \n    Shooter.delayShot = false;\n};\n\n/*\n|\n|   a gift for window\n|\n*/\nwindow.Shooter = Shooter;\n\n})();\n\n// EOF\n","(function(){ 'use strict';\n\n/*\n|\n|   shot\n|\n|   ...our shots/projectiles that will hurled at enemies\n|\n*/\n\nvar Shot = {\n    data : [],\n};\n\n/*\n|\n|   launch\n|\n|   ...initialize a shot\n|\n*/\nShot.launch = function( x, y )\n{\n    var shot = {\n        x : x,\n        y : y,\n        state : 'active',\n    };\n\n    this.data.push( shot );\n\n    //\n    //  notifiy score board\n    //\n    Score.shot();\n};\n\n/*\n|\n|   draw\n|\n|   ...draw current shots\n|\n*/\nShot.draw = function( ctx )\n{\n    if ( !this.data[0] )\n        return false;\n\n    for ( var i = this.data.length - 1; i >= 0; i-- )\n        _drawEach( this.data[i], i, this.data, ctx );\n};\n\n/*\n|\n|   draw each\n|\n|   ...analyze current state of each shot and draw appropriately\n|\n*/\nvar _drawEach = function( shot, i, data, ctx )\n{\n    shot.y     = shot.y - ( G.z * 0.01 );\n    shot.state = _isMiss( shot );\n\n    if ( shot.state == 'active' )\n        _drawShot( ctx, shot );\n\n    else if ( shot.state == 'miss' )\n        _deactivate( i, data );\n\n    else if ( shot.state == 'hit' )\n        _deactivate( i, data );\n\n    else\n        _deactivate( i, data );\n};\n\n/*\n|\n|   is miss\n|\n|   ...look for misses\n|\n*/\nvar _isMiss = function( shot )\n{\n    if ( shot.y < 0 )\n        return 'miss';\n\n    return shot.state;\n};\n\n/*\n|\n|   draw shot\n|\n|   ...draw shot on the canvas\n|\n*/\nvar _drawShot = function( ctx, shot )\n{\n    ctx.beginPath();\n    ctx.fillStyle = 'white';\n    ctx.rect( shot.x, shot.y, 5, 5 );\n    ctx.fill();\n};\n\n/*\n|\n|   deactivate\n|\n|   ...shot goes away when either hits or misses enemies\n|\n*/\nvar _deactivate = function( i, data )\n{\n    data.splice( i, 1 );\n};\n\n/*\n|\n|   a gift for window\n|\n*/\nwindow.Shot = Shot;\n\n})();\n\n// EOF\n","(function(){ 'use strict';\n\n/*\n|\n|   state\n|\n|   ...mostly just manage which pane should be visible\n|\n*/\n\nvar State = {\n\n    current : '',\n\n    //\n    //  the available panes\n    //  'id' describes the element pane\n    //  'display' describes the display method for pane\n    //\n    available : [\n        {\n            id      : 'shooty-shoot',\n            display : 'flex',\n        },\n        {\n            id      : 'home',\n            display : 'flex',\n        },\n        {\n            id      : 'lose',\n            display : 'flex',\n        },\n        {\n            id      : 'win',\n            display : 'flex',\n        },\n    ],\n};\n\nState.set = function( s )\n{\n    for (var i = this.available.length - 1; i >= 0; i--) {\n        if ( this.available[i].id == s )\n            this.apply( this.available[i] );\n    }\n};\n\nState.apply = function( s )\n{\n    this.clear();\n\n    document\n        .getElementById( s.id )\n        .style\n        .display = s.display;\n};\n\nState.clear = function()\n{\n    U.loop(\n        this.available,\n        function( a )\n        {\n            var el = document.getElementById( a.id );\n\n            el.style.display = 'none';\n        });\n};\n\nwindow.State = State;\n\n})();\n\n// EOF\n","(function(){ 'use strict';\n\n/*\n|\n|   utility\n|   \n|   ...reusable helper functions\n|\n*/\n\nvar U = {};\n\n/*\n|\n|   reload the whole thing\n|\n*/\nU.reload = function()\n{\n    window.location.reload();\n};\n\n/*\n|\n|   for loop\n|\n*/\nU.loop = function( arr, fn )\n{\n    for ( var i = arr.length - 1; i >= 0; i-- )\n        fn( arr[i] );\n};\n\nwindow.U = U;\n\n})();\n\n// EOF\n"],"sourceRoot":"/source/"}