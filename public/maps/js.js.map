{"version":3,"sources":["global.js","init.js","score.js","shooter.js","shot.js","state.js","utility.js"],"names":["G","speed","isPlaying","z","top","left","el","game","document","getElementById","score","canvas","home","lose","win","els","playBtns","getElementsByClassName","shots","hits","accuracy","init","setTimeout","this","setZ","Shooter","offsetWidth","drawCanvas","ctx","getContext","width","height","clearRect","draw","Shot","window","requestAnimationFrame","play","State","set","Score","addEventListener","U","reload","playBtnListeners","removeEventListener","btns","i","length","initEnemies","enemies","_setElText","setGetAccuracy","setEnemies","n","shot","hit","_calcPercentage","actual","possible","p","Math","round","txt","textContent","wMultp","moveMultp","x","y","r","defaultOpacity","shootOpacity","currentOpacity","moveLeft","moveRight","shooting","delayShot","self","keyPress","keyRelease","beginPath","fillStyle","right","shoot","arc","PI","fill","ev","keyCode","newX","engageDelay","launch","releaseDelay","data","state","push","_drawEach","_isMiss","_drawShot","_deactivate","rect","splice","current","available","id","display","s","apply","clear","style","loop","a","location","arr","fn"],"mappings":"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","file":"js.js","sourcesContent":["(function(){ 'use strict';\n\nvar G = {\n\n    //\n    //  global game speed\n    //\n    speed : 0.3,\n\n    // \n    // values\n    //\n    isPlaying   : false,\n    z           : 0,\n    top         : 0,\n    left        : 0,\n\n    //\n    //  elements\n    //\n    el : {\n        game    : document.getElementById( 'shooty-shoot' ),\n        score   : document.getElementById( 'score' ),\n        canvas  : document.getElementById( 'shooty-shoot-canvas' ),\n        home    : document.getElementById( 'home' ),\n        lose    : document.getElementById( 'lose' ),\n        win     : document.getElementById( 'win' ),\n    },\n    els : {\n        playBtns : document.getElementsByClassName( 'play-btn'),\n        shots    : document.getElementsByClassName( 'shots' ),\n        hits     : document.getElementsByClassName( 'hits' ),\n        accuracy : document.getElementsByClassName( 'accuracy' ), \n    },\n};\n\nG.init = function()\n{\n    //\n    //  set 'z' value\n    //  ... which represents both width and height of canvas\n    //\n    setTimeout( this.setZ, 0 );\n\n    //\n    //  initialize the shooter\n    //\n    setTimeout( Shooter.init, 0 );\n\n    //\n    //  set enemy defaults\n    //\n};\n\nG.setZ = function()\n{\n    G.z = G.el.canvas.offsetWidth;\n};\n\nG.drawCanvas = function()\n{\n    var ctx = G.el.canvas.getContext( '2d' );\n\n    ctx.canvas.width  = G.z;\n    ctx.canvas.height = G.z;\n\n    ctx.clearRect( 0, 0, G.z, G.z ); // clear canvas\n\n    //\n    //  check for all possible collisions\n    //\n    //Collision.check();\n\n    //\n    //  draw the elements\n    //\n    // Enemy.draw( ctx );\n    Shooter.draw( ctx );\n    Shot.draw( ctx );\n\n    //\n    //  draw next frame\n    //\n    if ( G.isPlaying )\n        window.requestAnimationFrame( G.drawCanvas );\n};\n\nG.play = function()\n{\n    G.init();\n    G.isPlaying = true;\n    window.requestAnimationFrame( G.drawCanvas );\n    State.set( 'shooty-shoot' );\n    Score.init();\n};\n\nwindow.G = G;\n\n})();\n\n// EOF\n","(function(){ 'use strict';\n\n/*\n|\n|   get the party started\n|\n*/\nvar init = function()\n{\n    //\n    //  if window is resized, just reload and start over\n    //\n    window.addEventListener( 'resize', U.reload );\n\n    //\n    //  button listeners\n    //\n    playBtnListeners( G.els.playBtns );\n\n    //\n    //  display home pane\n    //\n    State.set( 'home' );\n\n    //\n    //  init() is complete\n    //  cleanup the DOMContentLoaded listener\n    //\n    document.removeEventListener( \"DOMContentLoaded\", init );\n};\n\n/*\n|\n|   listeners for buttons outside of the game\n|\n*/\nvar playBtnListeners = function( btns )\n{\n    for ( var i = btns.length - 1; i >= 0; i-- )\n        btns[i].addEventListener( 'click', G.play );\n};\n\n/*\n|\n|   hello browser.  please accept this code.  thx!\n|\n*/\ndocument.addEventListener( 'DOMContentLoaded', init );\n\n})();\n\n// EOF\n","(function(){ 'use strict';\n\n/*\n|\n|   score\n|\n|   ...track score board stats\n|\n*/\n\nvar Score = {\n\n    initEnemies : 0,\n    enemies     : 0,\n    shots       : 0,\n    hits        : 0,\n    accuracy    : 0,\n};\n\n/*\n|\n|   init\n|\n*/\nScore.init = function()\n{\n    this.draw();\n};\n\n/*\n|\n|   draw\n|\n|   ...display score stats in scoreboard\n|\n*/\nScore.draw = function()\n{\n    this._setElText( G.els.shots, this.shots );\n    this._setElText( G.els.hits, this.hits );\n    this._setElText( G.els.accuracy, this.setGetAccuracy() );\n\n    window.setTimeout( function() { Score.draw(); }, 500);\n};\n\n/*\n|\n|   set enemies\n|\n*/\nScore.setEnemies = function( n )\n{\n    this.initEnemies = n;\n    this.enemies     = n;\n\n    return this.enemies;\n};\n\n/*\n|\n|   shot\n|\n|   ...record a new shot\n|\n*/\nScore.shot = function()\n{\n    this.shots++;\n    return this.shots;\n};\n\n/*\n|\n|   hit\n|\n|   ...record a new hit\n|\n*/\nScore.hit = function()\n{\n    this.hits++;\n    this.enemies--;\n\n    return this.hits;\n};\n\n/*\n|\n|   set/get accuracy\n|\n|   ...determine current accuracy and return that\n|\n*/\nScore.setGetAccuracy = function()\n{\n    //\n    //  avoid zero divided by zero\n    //\n    if ( !this.shots )\n        return this.accuracy;\n\n    //\n    //  ok, do the thing\n    //\n    this.accuracy = this._calcPercentage( this.hits, this.shots );\n\n    return this.accuracy;\n};\n\n/*\n|\n|   calculate percentage\n|\n*/\nScore._calcPercentage = function( actual, possible )\n{\n    var p = actual / possible;\n\n    p = p * 100;\n    p = Math.round( p );\n\n    return p;\n};\n\n/*\n|\n|   set element text\n|\n|   ...apply to scoreboard dom elements\n|\n*/\nScore._setElText = function( els, txt )\n{\n    for ( var i = els.length - 1; i >= 0; i-- )\n        els[i].textContent = txt;\n\n    return txt;\n};\n\n/*\n|\n|   a gift for window\n|\n*/\nwindow.Score = Score;\n\n})();\n\n// EOF\n","(function(){ 'use strict';\n\n/*\n|\n|   shooter\n|\n|   ...brrap brrap pew pew\n|\n*/\n\nvar Shooter = {\n\n    //\n    // multipliers\n    //\n    wMultp      : 0.05,\n    moveMultp   : 0.01,\n\n    //\n    //  values set by this.init()\n    //\n    x : 0,\n    y : 0,\n    r : 0,\n\n    //\n    //  opacity\n    //\n    defaultOpacity  : 0.5,\n    shootOpacity    : 0.7,\n    currentOpacity  : 0.5,\n\n    //\n    // actions\n    //\n    moveLeft    : false,\n    moveRight   : false,\n    shooting    : false,\n    delayShot   : false,\n};\n\n/*\n|\n|   init\n|\n|   ...set values and add listeners\n|\n*/\nShooter.init = function()\n{\n    var self = Shooter;\n\n    self.r = G.z * self.wMultp;\n    self.x = ( G.z / 2 );\n    self.y = G.z - self.r - 1;\n\n    window.addEventListener( 'keydown', self.keyPress );\n    window.addEventListener( 'keyup', self.keyRelease );\n};\n\n/*\n|\n|   draw\n|\n|   ...analyze the state of things, adjust as needed, then draw\n|\n*/\nShooter.draw = function( ctx )\n{\n    //\n    //  prepare to draw\n    //\n    ctx.beginPath();\n    ctx.fillStyle = 'rgba( 126, 192, 238, '+this.currentOpacity+' )';\n\n    //\n    //  analyze actions\n    //\n    if ( this.moveLeft )\n        this.left();\n\n    if ( this.moveRight )\n        this.right();\n\n    if ( this.shooting )\n        this.shoot( ctx );\n\n    if ( this.currentOpacity > this.defaultOpacity )\n        this.currentOpacity = this.currentOpacity - 0.01;\n\n    //\n    //  draw\n    //\n    ctx.arc( this.x, this.y, this.r, 0, 2 * Math.PI );\n    ctx.fill();\n};\n\n/*\n|\n|   key press\n|\n*/\nShooter.keyPress = function( ev )\n{\n    //\n    //  left key\n    //\n    if ( ev.keyCode == 37 )\n        Shooter.moveLeft = true;\n\n    //\n    // right key\n    //\n    if ( ev.keyCode == 39 )\n        Shooter.moveRight = true;\n\n    //\n    // ctrl & space keys\n    //\n    if ( ev.keyCode == 17 || ev.keyCode == 32 )\n        Shooter.shooting = true;\n};\n\n/*\n|\n|   key release\n|\n*/\nShooter.keyRelease = function( ev )\n{\n    //\n    //  left key\n    //\n    if ( ev.keyCode == 37 )\n        Shooter.moveLeft = false;\n\n    //\n    // right key\n    //\n    if ( ev.keyCode == 39 )\n        Shooter.moveRight = false;\n\n    //\n    // ctrl & space keys\n    //\n    if ( ev.keyCode == 17 || ev.keyCode == 32 )\n        Shooter.shooting = false;\n};\n\n/*\n|\n|   left\n|\n|   ...move shooter\n|\n*/\nShooter.left = function()\n{\n    var newX = this.x - ( G.z * this.moveMultp );\n\n    if ( newX - this.r >= 1 )\n        this.x = newX ;\n};\n\n/*\n|\n|   right\n|\n|   ...move shooter\n|\n*/\nShooter.right = function()\n{\n    var newX = this.x + ( G.z * this.moveMultp );\n\n    if ( newX + this.r <= G.z - 1 )\n        this.x = newX;\n};\n\n/*\n|\n|   shoot\n|\n*/\nShooter.shoot = function( ctx )\n{\n    if ( this.delayShot )\n        return false;\n\n    this.engageDelay();\n\n    this.currentOpacity = this.shootOpacity;\n    Shot.launch( this.x, this.y - this.r );\n};\n\n/*\n|\n|   engage delay\n|\n|   ...delay shots a bit, no need to shoot on every frame\n|\n*/\nShooter.engageDelay = function()\n{\n    this.delayShot = true;\n    window.setTimeout( this.releaseDelay, 300);\n};\n\n/*\n|\n|   release delay\n|\n*/\nShooter.releaseDelay = function()\n{        \n    Shooter.delayShot = false;\n};\n\n/*\n|\n|   a gift for window\n|\n*/\nwindow.Shooter = Shooter;\n\n})();\n\n// EOF\n","(function(){ 'use strict';\n\n/*\n|\n|   shot\n|\n|   ...our shots/projectiles that will hurled at enemies\n|\n*/\n\nvar Shot = {\n    data : [],\n};\n\n/*\n|\n|   launch\n|\n|   ...initialize a shot\n|\n*/\nShot.launch = function( x, y )\n{\n    var shot = {\n        x : x,\n        y : y,\n        state : 'active',\n    };\n\n    this.data.push( shot );\n\n    //\n    //  notifiy score board\n    //\n    Score.shot();\n};\n\n/*\n|\n|   draw\n|\n|   ...draw current shots\n|\n*/\nShot.draw = function( ctx )\n{\n    if ( !this.data[0] )\n        return false;\n\n    for ( var i = this.data.length - 1; i >= 0; i-- )\n        _drawEach( this.data[i], i, this.data, ctx );\n};\n\n/*\n|\n|   draw each\n|\n|   ...analyze current state of each shot and draw appropriately\n|\n*/\nvar _drawEach = function( shot, i, data, ctx )\n{\n    shot.y     = shot.y - ( G.z * 0.01 );\n    shot.state = _isMiss( shot );\n\n    if ( shot.state == 'active' )\n        _drawShot( ctx, shot );\n\n    else if ( shot.state == 'miss' )\n        _deactivate( i, data );\n\n    else if ( shot.state == 'hit' )\n        _deactivate( i, data );\n\n    else\n        _deactivate( i, data );\n};\n\n/*\n|\n|   is miss\n|\n|   ...look for misses\n|\n*/\nvar _isMiss = function( shot )\n{\n    if ( shot.y < 0 )\n        return 'miss';\n\n    return shot.state;\n};\n\n/*\n|\n|   draw shot\n|\n|   ...draw shot on the canvas\n|\n*/\nvar _drawShot = function( ctx, shot )\n{\n    ctx.beginPath();\n    ctx.fillStyle = 'white';\n    ctx.rect( shot.x, shot.y, 5, 5 );\n    ctx.fill();\n};\n\n/*\n|\n|   deactivate\n|\n|   ...shot goes away when either hits or misses enemies\n|\n*/\nvar _deactivate = function( i, data )\n{\n    data.splice( i, 1 );\n};\n\n/*\n|\n|   a gift for window\n|\n*/\nwindow.Shot = Shot;\n\n})();\n\n// EOF\n","(function(){ 'use strict';\n\n/*\n|\n|   state\n|\n|   ...mostly just manage which pane should be visible\n|\n*/\n\nvar State = {\n\n    current : '',\n\n    //\n    //  the available panes\n    //  'id' describes the element pane\n    //  'display' describes the display method for pane\n    //\n    available : [\n        {\n            id      : 'shooty-shoot',\n            display : 'flex',\n        },\n        {\n            id      : 'home',\n            display : 'flex',\n        },\n        {\n            id      : 'lose',\n            display : 'flex',\n        },\n        {\n            id      : 'win',\n            display : 'flex',\n        },\n    ],\n};\n\nState.set = function( s )\n{\n    for (var i = this.available.length - 1; i >= 0; i--) {\n        if ( this.available[i].id == s )\n            this.apply( this.available[i] );\n    }\n};\n\nState.apply = function( s )\n{\n    this.clear();\n\n    document\n        .getElementById( s.id )\n        .style\n        .display = s.display;\n};\n\nState.clear = function()\n{\n    U.loop(\n        this.available,\n        function( a )\n        {\n            var el = document.getElementById( a.id );\n\n            el.style.display = 'none';\n        });\n};\n\nwindow.State = State;\n\n})();\n\n// EOF\n","(function(){ 'use strict';\n\n/*\n|\n|   utility\n|   \n|   ...reusable helper functions\n|\n*/\n\nvar U = {};\n\n/*\n|\n|   reload the whole thing\n|\n*/\nU.reload = function()\n{\n    window.location.reload();\n};\n\n/*\n|\n|   for loop\n|\n*/\nU.loop = function( arr, fn )\n{\n    for ( var i = arr.length - 1; i >= 0; i-- )\n        fn( arr[i] );\n};\n\nwindow.U = U;\n\n})();\n\n// EOF\n"],"sourceRoot":"/source/"}