{"version":3,"sources":["collision.js","data.js","enemy.js","global.js","home.js","init.js","key.js","score.js","shooter.js","shootyshoot-data.js","shootyshoot.js","shot.js","state.js","utility.js","view.js"],"names":["Lose","enemies","shooter","_shooterCollision","Hit","shots","_shotCollision","i","length","enemyBottom","y","r","shooterTop","hit","_shotCollisionEachEnemy","enemy","enemyI","_shotCollisionEachShot","shot","shotI","enemyEdge","top","bottom","left","x","right","window","Data","rowN","colN","moveMultp","rowWmultp","shiftWmultp","val","rowW","shiftW","shiftH","enemyR","shiftV","xDelta","yDelta","movingRight","movingDown","score","initEnemies","hits","accuracy","Enemy","this","data","prototype","init","z","v","enemiesAndGapsN","defaultX","defaultY","n","initEachEnemy","state","shift","push","animate","movement","processState","_moveEnemiesDown","_moveEnemiesHorizontally","d","_incrementDownwardMovement","_movingDownIsComplete","map","_moveEnemyDown","_incrementHorizontalMovement","_movingHorizontallyIsComplete","_moveEnemyRight","_moveEnemyLeft","_processEach","splice","G","speed","isPlaying","el","game","document","getElementById","canvas","home","lose","win","homeH1","querySelector","homePlayBtn","els","playBtns","getElementsByClassName","keyLeft","keyRight","keyShoot","p","Promise","resolve","reject","State","set","current","then","setZ","Home","removeListeners","Shooter","Shot","requestAnimationFrame","drawCanvas","Score","offsetWidth","ctx","getContext","width","height","clearRect","Collision","check","draw","play","addListeners","addEventListener","keyDown","keyUp","playHover","playUnHover","removeEventListener","ev","keyCode","keyInstructions","action","_","forEach","classList","add","remove","playBtnListeners","btns","ShootyShoot","key","listen","_setElText","setGetAccuracy","_calcPercentage","actual","possible","Math","round","txt","textContent","defaultOpacity","shootOpacity","currentOpacity","wMultp","isMovingLeft","isMovingRight","isShooting","delayShot","stall","isLeftRightStall","moveLeft","moveRight","fadingOpacity","x0","m","x1","setShotOpacity","shshData","load","drawScoreboard","view","drawFromRequestAnimationFrame","shoot","bool","engageDelay","launch","setTimeout","releaseDelay","items","accel","s","_move","_isMiss","processStateEach","available","id","display","apply","clear","style","U","reload","location","loop","arr","fn","beginPath","fillStyle","arc","PI","fill","rect"],"mappings":"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","file":"js.js","sourcesContent":["(function(){ 'use strict';\n\n/*\n|\n|   collisions\n|\n*/\n\nvar Lose = function( enemies, shooter )\n{\n    //\n    //  check for enemy collision with shooter\n    //\n    if ( _shooterCollision(enemies, shooter) )\n        return true;\n\n    return false;\n};\n\n/*\n|\n|\n|\n*/\nvar Hit = function( enemies, shots )\n{\n    //\n    //  check for enemy collision with shot\n    //\n    return _shotCollision(enemies, shots);\n};\n\n/*\n|\n|\n|\n*/\nvar _shooterCollision = function( enemies, shooter )\n{\n    for ( var i = enemies.length - 1; i >= 0; i-- )\n    {\n        var enemyBottom = enemies[i].y + enemies[i].r,\n            shooterTop  = shooter.y - shooter.r;\n\n        if ( enemyBottom > shooterTop )\n            return true;\n    }\n\n    return false;\n};\n\n/*\n|\n|\n|\n*/\nvar _shotCollision = function( enemies, shots )\n{\n    //\n    //\n    //\n    if ( !enemies.length )\n        return false;\n\n    if ( !shots.length )\n        return false;\n\n    //\n    //\n    //\n    var hit = false;\n\n    for ( var i = enemies.length - 1; i >= 0; i-- )\n    {\n        hit = _shotCollisionEachEnemy( enemies[i], i, shots );\n\n        if ( hit )\n            return hit;\n    }\n\n    return false;\n};\n\nvar _shotCollisionEachEnemy = function( enemy, enemyI, shots )\n{\n    var hit = false;\n\n    for ( var i = shots.length - 1; i >= 0; i-- )\n    {\n        hit = _shotCollisionEachShot( enemy, enemyI, shots[i], i );\n\n        if ( hit )\n            return hit;\n    }\n\n    return false;\n};\n\nvar _shotCollisionEachShot = function( enemy, enemyI, shot, shotI )\n{\n    var enemyEdge = {};\n    enemyEdge.top    = enemy.y - enemy.r;\n    enemyEdge.bottom = enemy.y + enemy.r;\n    enemyEdge.left   = enemy.x - enemy.r;\n    enemyEdge.right  = enemy.x + enemy.r;\n\n    //\n    //  return false if shot missed all enemies\n    //\n    if ( shot.y < enemyEdge.top)\n        return false;\n\n    if ( shot.y > enemyEdge.bottom )\n        return false;\n\n    if ( shot.x < enemyEdge.left )\n        return false;\n\n    if ( shot.x > enemyEdge.right )\n        return false;\n\n    //\n    //  no misses means there was a hit\n    //  return the enemy and shot that should be deactivated\n    //\n    return {\n        'enemy' : enemyI,\n        'shot'  : shotI,\n    };\n};\n\nwindow.Lose = Lose;\nwindow.Hit  = Hit;\n\n})();\n\n// EOF","(function(){ 'use strict';\n\n/*\n|\n|   data model\n|\n*/\n\nvar Data = {\n\n    enemy : {\n\n        //\n        //  number of rows\n        //\n        rowN : 5,\n\n        //\n        //  number of enemies in each row\n        //\n        colN : 10,\n\n        //\n        //  enemy movement speed multiplier\n        //\n        moveMultp : 0.008,\n\n        //\n        //  row width multiplier and shift width multiplier should add up to 1\n        //\n        rowWmultp   : 0.7,\n        shiftWmultp : 0.3,\n\n        //\n        //  data for state of each enemy\n        //\n        enemies : [],\n\n        //\n        //  values set initially and during play\n        //\n        val : {\n\n            //\n            //  values set by sizer()\n            //\n            rowW    : 0,\n            shiftW  : 0,\n            shiftH  : 0,\n            enemyR  : 0,\n            shiftV  : 0,\n\n            //\n            //  track enemy shift direction\n            //\n            xDelta      : 0,\n            yDelta      : 0,\n            movingRight : true,\n            movingDown  : false,\n        }\n    },\n\n    shot : [],\n\n    score : {\n        initEnemies : 0,\n        enemies     : 0,\n        shots       : 0,\n        hits        : 0,\n        accuracy    : 0,\n    },\n};\n\n/*\n|\n|   a gift for window\n|\n*/\nwindow.Data = Data;\n\n})();\n\n// EOF\n","(function(){ 'use strict';\n\n/*\n|\n|   enemy\n|\n*/\n\nvar Enemy = function()\n{\n    this.data = {\n\n        //\n        //  number of rows\n        //\n        rowN : 5,\n\n        //\n        //  number of enemies in each row\n        //\n        colN : 10,\n\n        //\n        //  enemy movement speed multiplier\n        //\n        moveMultp : 0.008,\n\n        //\n        //  row width multiplier and shift width multiplier should add up to 1\n        //\n        rowWmultp   : 0.7,\n        shiftWmultp : 0.3,\n\n        //\n        //  data for state of each enemy\n        //\n        enemies : [],\n\n        //\n        //  values set by init()\n        //\n        rowW    : 0,\n        shiftW  : 0,\n        shiftH  : 0,\n        enemyR  : 0,\n        shiftV  : 0,\n\n        //\n        //  track enemy shift direction\n        //\n        xDelta      : 0,\n        yDelta      : 0,\n        movingRight : true,\n        movingDown  : false,\n    };\n};\n\nEnemy.prototype.init = function( z, v )\n{\n    //\n    //  set global enemy values\n    //\n    this.data.rowW   = z * this.data.rowWmultp;\n    this.data.shiftW = z * this.data.shiftWmultp;\n    this.data.shiftV = this.data.moveMultp * z * v;\n    \n    var enemiesAndGapsN = ( this.data.colN * 2 ) - 1;  \n    this.data.enemyR    = ( this.data.rowW / enemiesAndGapsN ) / 2;\n\n    this.data.shiftH = this.data.enemyR;\n\n    //\n    //  initial values for enemy\n    //\n    var x = this.data.enemyR,\n        y = this.data.enemyR,\n        r = this.data.enemyR,\n        defaultX = x,\n        defaultY = y;\n\n    //\n    //  initialize each enemy\n    //\n    for ( var n = this.data.rowN - 1; n >= 0; n-- )\n    {\n        for ( var i = this.data.colN - 1; i >= 0; i-- )\n        {\n            this.initEachEnemy( x, y, r );        \n            x = x + ( r * 4 );\n        }\n\n        x = defaultX;\n        y = defaultY + ( r * 4 * n );\n    }\n};\n\nEnemy.prototype.initEachEnemy = function( x, y, r )\n{\n    var enemy = {\n            x : x,\n            y : y,\n            r : r,\n            state : 'active',\n            shift : this.data.shiftV,\n        };\n\n    this.data.enemies.push( enemy );\n};\n\nEnemy.prototype.animate = function()\n{\n    this.movement();\n    this.processState();\n};\n\nEnemy.prototype.movement = function()\n{\n    if ( !this.data.enemies[0] )\n        return false;\n\n    this.data = ( this.data.movingDown ) ?\n        _moveEnemiesDown( this.data )    :\n        _moveEnemiesHorizontally( this.data );\n};\n\nvar _moveEnemiesDown = function( d )\n{\n    //\n    //  increment downward movement with yDelta\n    //\n    d = _incrementDownwardMovement( d );\n\n    //\n    //  check if done moving down\n    //\n    if ( d.yDelta >= d.shiftH )\n        d = _movingDownIsComplete( d );\n\n    //\n    //  adjust enemy postitions\n    //\n    d.enemies = d.enemies.map( _moveEnemyDown );\n\n    return d;\n};\n\nvar _moveEnemiesHorizontally = function( d )\n{\n    //\n    //  increment downward movement with xDelta\n    //\n    d = _incrementHorizontalMovement( d );\n\n    //\n    //  check if done moving horizontally\n    //\n    if ( d.xDelta >= d.shiftW )\n        d = _movingHorizontallyIsComplete( d );\n\n    //\n    //  adjust enemy postitions\n    //\n    d.enemies = ( d.movingRight )        ?\n        d.enemies.map( _moveEnemyRight ) :\n        d.enemies.map( _moveEnemyLeft );\n\n    return d;\n};\n\nvar _incrementDownwardMovement = function( d )\n{\n    d.yDelta = d.yDelta + d.shiftV;\n\n    return d;\n};\n\nvar _movingDownIsComplete = function( d )\n{\n    d.movingDown    = false;\n    d.yDelta        = 0;\n\n    return d;\n};\n\nvar _moveEnemyDown = function( enemy )\n{\n    enemy.y = enemy.y + enemy.shift;\n\n    return enemy;\n};\n\nvar _incrementHorizontalMovement = function( d )\n{\n    d.xDelta = d.xDelta + d.shiftV;\n\n    return d;\n};\n\nvar _movingHorizontallyIsComplete = function( d )\n{\n    d.movingRight   = !d.movingRight;\n    d.xDelta        = 0;\n    d.movingDown    = true;\n\n    return d;\n};\n\nvar _moveEnemyRight = function( enemy )\n{\n    enemy.x = enemy.x + enemy.shift;\n\n    return enemy;\n};\n\nvar _moveEnemyLeft = function( enemy )\n{\n    enemy.x = enemy.x - enemy.shift;\n\n    return enemy;\n};\n\nEnemy.prototype.processState = function()\n{\n    for ( var i = this.data.enemies.length - 1; i >= 0; i-- )\n        _processEach( this.data.enemies[i], i, this.data.enemies );\n};\n\nvar _processEach = function( enemy, enemyI, enemies )\n{\n    if ( enemy.state == 'hit' )\n        enemies.splice( enemyI, 1 );\n};\n\nEnemy.prototype.hit = function( i )\n{\n    this.data.enemies[i].state = 'hit';\n};\n\nwindow.Enemy = Enemy;\n})();\n\n// EOF\n","(function(){ 'use strict';\n\n/*\n|\n|   global\n|\n|   ...main object for controlling the game\n|\n*/\n\nvar G = {\n\n    //\n    //  global game speed\n    //\n    speed : 0.3,\n\n    // \n    // values\n    //\n    isPlaying   : false,\n    z           : 0,\n    top         : 0,\n    left        : 0,\n\n    //\n    //  elements\n    //\n    el : {\n        game    : document.getElementById( 'shooty-shoot' ),\n        score   : document.getElementById( 'score' ),\n        canvas  : document.getElementById( 'shooty-shoot-canvas' ),\n        home    : document.getElementById( 'home' ),\n        lose    : document.getElementById( 'lose' ),\n        win     : document.getElementById( 'win' ),\n\n        homeH1      : document.querySelector( '#home h1' ),\n        homePlayBtn : document.getElementById( 'home-play-btn' ),\n    },\n    els : {\n        playBtns : document.getElementsByClassName( 'play-btn'),\n        shots    : document.getElementsByClassName( 'shots' ),\n        hits     : document.getElementsByClassName( 'hits' ),\n        accuracy : document.getElementsByClassName( 'accuracy' ),\n        keyLeft  : document.getElementsByClassName( 'key-left' ),\n        keyRight : document.getElementsByClassName( 'key-right' ),\n        keyShoot : document.getElementsByClassName( 'key-shoot' ),\n    },\n};\n\n/*\n|\n|   init\n|\n*/\nG.init = function()\n{\n    //\n    //  promise that first displays game elements in dom\n    //\n    var p = new Promise(function(resolve, reject)\n    {\n        State.set( 'shooty-shoot' );\n\n        if ( State.current == 'shooty-shoot' )\n            resolve('Success!');\n\n        else\n            reject('Failure!');\n    });\n\n    //\n    //  things to do after the State.set() promise\n    //\n    p.then( G.setZ )\n        .then( Home.removeListeners )\n        .then( Enemy.init )\n        .then( Shooter.init )\n        .then( Shot.init )\n        .then( function() {\n            G.isPlaying = true;\n        })\n        .then( function() {\n            window.requestAnimationFrame( G.drawCanvas );            \n        })\n        .then( Score.init );\n};\n\n/*\n|\n|   set z\n|\n|   ...(it's a new promise)\n|\n*/\nG.setZ = function()\n{\n    G.z = G.el.canvas.offsetWidth;\n};\n\n/*\n|\n|   draw canvas\n|\n|   ...the primary controller for drawing to canvas\n|\n*/\nG.drawCanvas = function()\n{\n    var ctx = G.el.canvas.getContext( '2d' );\n\n    ctx.canvas.width  = G.z;\n    ctx.canvas.height = G.z;\n\n    ctx.clearRect( 0, 0, G.z, G.z ); // clear canvas\n\n    //\n    //  check for all possible collisions\n    //\n    Collision.check();\n\n    //\n    //  draw the elements\n    //\n    Enemy.draw( ctx );\n    Shooter.draw( ctx );\n    Shot.draw( ctx );\n\n    //\n    //  draw next frame\n    //\n    if ( G.isPlaying )\n        window.requestAnimationFrame( G.drawCanvas );\n};\n\n/*\n|\n|   play\n|\n|   ...do all the things needed to start the game\n|\n*/\nG.play = function()\n{\n    G.init();   \n};\n\n/*\n|\n|   win\n|\n|   ...do all the things needed the game has been won\n|\n*/\nG.win = function()\n{\n    G.isPlaying = false;\n    State.set( 'win' );\n};\n\n/*\n|\n|   lose\n|\n|   ...do all the things needed the game has been lost\n|\n*/\nG.lose = function()\n{\n    G.isPlaying = false;\n    State.set( 'lose' );\n};\n\nwindow.G = G;\n\n})();\n\n// EOF\n","(function(){ 'use strict';\n\n/*\n|\n|   home\n|\n|   ...\n|\n*/\n\nvar Home = {\n\n    //\n    //\n    //\n    addListeners : function()\n    {\n        window.addEventListener( 'keydown', Home.keyDown );\n        window.addEventListener( 'keyup', Home.keyUp );\n        G.el.homePlayBtn.addEventListener( 'mouseover', Home.playHover );\n        G.el.homePlayBtn.addEventListener( 'mouseout', Home.playUnHover );\n    },\n\n    //\n    //\n    //\n    removeListeners : function()\n    {\n        window.removeEventListener( 'keydown', Home.keyDown );\n        window.removeEventListener( 'keyup', Home.keyUp );\n        G.el.homePlayBtn.removeEventListener( 'mouseover', Home.playHover );\n        G.el.homePlayBtn.removeEventListener( 'mouseout', Home.playUnHover );\n    },\n};\n\n/*\n|\n|   key press\n|\n*/\nHome.keyDown = function( ev )\n{\n    //\n    //  left key\n    //\n    if ( ev.keyCode == 37 )\n        Home.keyInstructions( 'press', G.els.keyLeft );\n\n    //\n    // right key\n    //\n    if ( ev.keyCode == 39 )\n        Home.keyInstructions( 'press', G.els.keyRight );\n\n    //\n    // ctrl & space keys\n    //\n    if ( ev.keyCode == 17 || ev.keyCode == 32 )\n        Home.keyInstructions( 'press', G.els.keyShoot );\n};\n\n/*\n|\n|   key release\n|\n*/\nHome.keyUp = function( ev )\n{\n    //\n    //  left key\n    //\n    if ( ev.keyCode == 37 )\n        Home.keyInstructions( 'release', G.els.keyLeft );\n\n    //\n    // right key\n    //\n    if ( ev.keyCode == 39 )\n        Home.keyInstructions( 'release', G.els.keyRight );\n\n    //\n    // ctrl & space keys\n    //\n    if ( ev.keyCode == 17 || ev.keyCode == 32 )\n        Home.keyInstructions( 'release', G.els.keyShoot );\n};\n\n/*\n|\n|\n|\n*/\nHome.keyInstructions = function( action, els )\n{\n    if ( action == 'press' )\n    {\n        _(els).forEach(function( el )\n        {\n            el.classList.add( 'highlight' );\n        });\n    }\n    else\n    {\n        _(els).forEach(function( el )\n        {\n            el.classList.remove( 'highlight' );\n        });\n    }\n};\n\n/*\n|\n|\n|\n*/\nHome.playHover = function()\n{\n    G.el.homeH1.classList.add( 'home-h1-highlight' );\n};\n\n/*\n|\n|\n|\n*/\nHome.playUnHover = function()\n{\n    G.el.homeH1.classList.remove( 'home-h1-highlight' );\n};\n\n/*\n|\n|   a gift for window\n|\n*/\nwindow.Home = Home;    \n\n})();\n\n// EOF","(function(){ 'use strict';\n\n/*\n|\n|   init\n|\n*/\n\nvar init = function()\n{\n    playBtnListeners();\n\n    State.set( 'home' );\n\n    document.removeEventListener( \"DOMContentLoaded\", init );\n};\ndocument.addEventListener( 'DOMContentLoaded', init );\n\n/*\n|\n|\n|\n*/\nvar playBtnListeners = function()\n{\n    var btns = document.getElementsByClassName( 'play-btn' );\n\n    for ( var i = btns.length - 1; i >= 0; i-- )\n        btns[i].addEventListener( 'click', ShootyShoot.play );\n};\n\n})();\n\n// EOF\n","(function(){ 'use strict';\n\nvar key = {\n\n    listen : function()\n    {\n        window.addEventListener( 'keydown', key.keyDown );\n        window.addEventListener( 'keyup', key.keyUp );\n    }\n};\n\nkey.keyDown = function( ev )\n{\n    //\n    //  left key\n    //\n    if ( ev.keyCode == 37 )\n        ShootyShoot.keyLeft( true );\n\n    //\n    // right key\n    //\n    if ( ev.keyCode == 39 )\n        ShootyShoot.keyRight( true );\n\n    //\n    // ctrl & space keys\n    //\n    if ( ev.keyCode == 17 || ev.keyCode == 32 )\n        ShootyShoot.keyShoot( true );\n};\n\nkey.keyUp = function( ev )\n{\n    //\n    //  left key\n    //\n    if ( ev.keyCode == 37 )\n        ShootyShoot.keyLeft( false );\n\n    //\n    // right key\n    //\n    if ( ev.keyCode == 39 )\n        ShootyShoot.keyRight( false );\n\n    //\n    // ctrl & space keys\n    //\n    if ( ev.keyCode == 17 || ev.keyCode == 32 )\n        ShootyShoot.keyShoot( false );\n};\n\nwindow.key = key;\n})();\n\n// EOF\n","(function(){ 'use strict';\n\n/*\n|\n|   score\n|\n|   ...track score board stats\n|\n*/\n\nvar Score = function( enemies, els )\n{\n    this.data = {\n        initEnemies : enemies,\n        enemies     : enemies,\n        shots       : 0,\n        hits        : 0,\n        accuracy    : 0,\n    };\n\n    this.els = els;\n};\n\n/*\n|\n|   draw\n|\n|   ...display score stats in scoreboard\n|\n*/\nScore.prototype.draw = function()\n{\n    _setElText( this.els.shots, this.data.shots );\n    _setElText( this.els.hits, this.data.hits );\n    _setElText( this.els.accuracy, this.setGetAccuracy() );\n};\n\n/*\n|\n|   shot\n|\n|   ...record a new shot\n|\n*/\nScore.prototype.shot = function()\n{\n    this.data.shots++;\n    return this.data.shots;\n};\n\n/*\n|\n|   hit\n|\n|   ...record a new hit\n|\n*/\nScore.prototype.hit = function()\n{\n    this.data.hits++;\n    this.data.enemies--;\n\n    return this.data.hits;\n};\n\n/*\n|\n|   set/get accuracy\n|\n|   ...determine current accuracy and return that\n|\n*/\nScore.prototype.setGetAccuracy = function()\n{\n    //\n    //\n    //\n    if ( !this.data.shots )\n        return this.data.accuracy;\n\n    //\n    //\n    //\n    this.data.accuracy = _calcPercentage( this.data.hits, this.data.shots );\n\n    return this.data.accuracy;\n};\n\n/*\n|\n|   calculate percentage\n|\n*/\nvar _calcPercentage = function( actual, possible )\n{\n    var p = actual / possible;\n\n    p = p * 100;\n    p = Math.round( p );\n\n    return p;\n};\n\n/*\n|\n|   set element text\n|\n|   ...apply to scoreboard dom elements\n|\n*/\nvar _setElText = function( els, txt )\n{\n    for ( var i = els.length - 1; i >= 0; i-- )\n        els[i].textContent = txt;\n\n    return txt;\n};\n\n/*\n|\n|\n|\n*/\nwindow.Score = Score;\n\n})();\n\n// EOF\n","(function(){ 'use strict';\n\n/*\n|\n|   shooter\n|\n*/\n\nvar Shooter = function()\n{\n    //\n    //  data for the view\n    //\n    this.v = {\n\n        x : null,\n        y : null,\n        r : null,\n\n        defaultOpacity  : 0.5,\n        shootOpacity    : 0.7,\n        currentOpacity  : null,\n    };\n\n    //\n    // multipliers\n    //\n    this.wMultp      = 0.05;\n    this.moveMultp   = 0.01;\n\n    //\n    // actions\n    //\n    this.isMovingLeft    = false;\n    this.isMovingRight   = false;\n    this.isShooting    = false;\n    this.delayShot   = false;\n};\n\nShooter.prototype.init = function( z )\n{\n    this.v.r = z * this.wMultp;\n    this.v.x = ( z / 2 );\n    this.v.y = z - this.v.r - 1;\n\n    this.v.currentOpacity = this.v.defaultOpacity;\n};\n\nShooter.prototype.animate = function( z )\n{\n    var stall = this.isLeftRightStall();\n\n    if ( this.isMovingLeft && !stall )\n        this.moveLeft( z );\n\n    if ( this.isMovingRight && !stall )\n        this.moveRight( z );\n\n    this.fadingOpacity();\n};\n\nShooter.prototype.moveLeft = function( z )\n{\n    var x0  = this.v.x,\n        r   = this.v.r,\n        m   = this.moveMultp,\n        x1  = x0 - ( z * m );\n\n    if ( x1 - r >= 1 )\n        this.v.x = x1;\n};\n\nShooter.prototype.moveRight = function( z )\n{\n    var x0  = this.v.x,\n        r   = this.v.r,\n        m   = this.moveMultp,\n        x1  = x0 + ( z * m );\n\n    if ( x1 + r <= z - 1 )\n        this.v.x = x1;\n};\n\nShooter.prototype.isLeftRightStall = function()\n{\n    return this.isMovingLeft && this.isMovingRight;\n};\n\nShooter.prototype.setShotOpacity = function()\n{\n    this.v.currentOpacity = this.v.shootOpacity;\n};\n\nShooter.prototype.fadingOpacity = function()\n{\n    if ( this.v.currentOpacity > this.v.defaultOpacity )\n        this.v.currentOpacity = this.v.currentOpacity - 0.01;\n};\n\n\n\nwindow.Shooter = Shooter;\n})();\n\n// EOF\n","(function(){ 'use strict';\n\n/*\n|\n|   global game data\n|\n*/\n\nvar shshData = function()\n{\n    this.speed      = 0.5;\n    this.isPlaying  = false;\n    this.z          = 0;\n\n    this.el = {\n        game    : document.getElementById( 'shooty-shoot' ),\n        score   : document.getElementById( 'score' ),\n        canvas  : document.getElementById( 'shooty-shoot-canvas' ),\n        home    : document.getElementById( 'home' ),\n        lose    : document.getElementById( 'lose' ),\n        win     : document.getElementById( 'win' ),\n\n        homeH1      : document.querySelector( '#home h1' ),\n        homePlayBtn : document.getElementById( 'home-play-btn' ),\n    };\n\n    this.els = {\n        playBtns : document.getElementsByClassName( 'play-btn' ),\n        shots    : document.getElementsByClassName( 'shots' ),\n        hits     : document.getElementsByClassName( 'hits' ),\n        accuracy : document.getElementsByClassName( 'accuracy' ),\n        keyLeft  : document.getElementsByClassName( 'key-left' ),\n        keyRight : document.getElementsByClassName( 'key-right' ),\n        keyShoot : document.getElementsByClassName( 'key-shoot' ),\n    };\n};\n\nshshData.prototype.init = function()\n{\n    this.z = this.el.canvas.offsetWidth;\n};\n\nwindow.shshData = shshData;\n})();\n\n// EOF\n","(function(){ 'use strict';\n\nvar ShootyShoot = {\n\n    data    : {},\n    shooter : {},\n    shot    : {},\n    enemy   : {},\n};\n\nShootyShoot.play = function()\n{\n    State.set( 'shooty-shoot' );\n\n    ShootyShoot.load();\n};\n\n/*\n|\n|\n|\n*/\nShootyShoot.load = function()\n{\n    //\n    //  global\n    //\n    this.data = new shshData();\n    this.data.init();\n\n    //\n    //  keyboard listeners\n    //\n    key.listen();\n\n    //\n    //  shooter\n    //\n    this.shooter = new Shooter();\n    this.shooter.init( this.data.z );\n\n    //\n    //  enemies\n    //\n    this.enemy = new Enemy();\n    this.enemy.init( this.data.z, this.data.speed );\n\n    //\n    //  shot\n    //\n    this.shot = new Shot();\n    this.shot.init( this.data.z );\n\n    //\n    //  score board\n    //\n    this.score = new Score( this.enemy.data.enemies.length, this.data.els );\n    this.drawScoreboard();\n\n    //\n    //  draw\n    //\n    this.data.isPlaying = true;\n    this.draw();\n};\n\n/*\n|\n|\n|\n*/\nShootyShoot.draw = function()\n{\n    //\n    //  canvas\n    //\n    var ctx = this.data.el.canvas.getContext( '2d' );\n    ctx.canvas.width  = this.data.z;\n    ctx.canvas.height = this.data.z;\n    ctx.clearRect( 0, 0, this.data.z, this.data.z );\n\n    //\n    //  draw elements\n    //\n    view.shooter( this.shooter.v, ctx );\n    view.shots( this.shot.data, ctx );\n    view.enemies( this.enemy.data.enemies, ctx );\n\n    //\n    //  animate data for next frame\n    //\n    this.animate();\n};\nShootyShoot.drawFromRequestAnimationFrame = function()\n{\n    ShootyShoot.draw();\n};\n\n/*\n|\n|\n|\n*/\nShootyShoot.animate = function()\n{\n    //\n    //  check for win\n    //\n    if ( !this.enemy.data.enemies[0] )\n        this.win();\n\n    //\n    //  shooter actions\n    //\n    this.shooter.animate( this.data.z );\n\n    if ( this.shooter.isShooting )\n        this.shoot();\n\n    //\n    //  shots\n    //\n    this.shot.animate();\n\n    //\n    //  enemy movement\n    //\n    this.enemy.animate();\n\n    //\n    //  check for collisions\n    //\n    var lose = Lose( this.enemy.data.enemies, this.shooter.v );\n    if ( lose )\n        this.lose();\n\n    var hit = Hit( this.enemy.data.enemies, this.shot.data );\n    if ( hit )\n        this.hit( hit );\n\n    //\n    //  draw next frame\n    //\n    if ( this.data.isPlaying )\n        window.requestAnimationFrame( this.drawFromRequestAnimationFrame );\n};\n\n/*\n|\n|   process keyboard events\n|\n*/\nShootyShoot.keyLeft = function( bool )\n{\n    this.shooter.isMovingLeft = bool;    \n};\nShootyShoot.keyRight = function( bool )\n{\n    this.shooter.isMovingRight = bool;\n};\nShootyShoot.keyShoot = function( bool )\n{\n    this.shooter.isShooting = bool;\n};\n\n/*\n|\n|   process a shot\n|\n*/\nShootyShoot.shoot = function()\n{\n    //\n    //  shot delay\n    //\n    if ( this.shooter.delayShot )\n        return false;\n\n    this.engageDelay();\n\n    //\n    //  shooter\n    //\n    this.shooter.setShotOpacity();\n\n    //\n    //  shot\n    //\n    this.shot.launch( this.shooter.v );\n\n    //\n    //  score board\n    //\n    this.score.shot();\n};\n\n/*\n|\n|   engage shot delay\n|\n|   ...delay shots a bit, no need to shoot on every frame\n|\n*/\nShootyShoot.engageDelay = function()\n{\n    this.shooter.delayShot = true;\n    window.setTimeout( this.releaseDelay, 300);\n};\n\n/*\n|\n|   release shot delay\n|\n*/\nShootyShoot.releaseDelay = function()\n{\n    ShootyShoot.shooter.delayShot = false;\n};\n\n/*\n|\n|   scoreboard\n|\n*/\nShootyShoot.drawScoreboard = function()\n{\n    ShootyShoot.score.draw();\n\n    window.setTimeout( function() { ShootyShoot.drawScoreboard(); }, 500);\n};\n\n/*\n|\n|   hit\n|\n*/\nShootyShoot.hit = function( items )\n{\n    this.enemy.hit( items.enemy );\n    this.shot .hit( items.shot  );\n    this.score.hit();\n};\n\n/*\n|\n|   lose\n|\n*/\nShootyShoot.lose = function()\n{\n    this.data.isPlaying = false;\n    State.set( 'lose' );\n};\n\n/*\n|\n|   win\n|\n*/\nShootyShoot.win = function()\n{\n    this.data.isPlaying = false;\n    State.set( 'win' );\n};\n\n/*\n|\n|\n|\n*/\nwindow.ShootyShoot = ShootyShoot;\n})();\n\n// EOF\n","(function(){ 'use strict';\n\nvar Shot = function()\n{\n    this.data  = [];\n    this.accel = null;\n};\n\nShot.prototype.init = function( z )\n{\n    this.accel = z * 0.01;\n};\n\nShot.prototype.launch = function( d )\n{\n    var s = {\n        x       : d.x,\n        y       : d.y - d.r,\n        state   : 'active',\n        accel   : this.accel,\n    };\n\n    this.data.push( s );\n};\n\nShot.prototype.animate = function()\n{\n    this.movement();\n    this.processState();\n};\n\nShot.prototype.movement = function()\n{\n    if ( !this.data[0] )\n        return false;\n\n    this.data = this.data.map( _move );\n    this.data = this.data.map( _isMiss );\n};\n\nvar _move = function( i )\n{\n    i.y = i.y - i.accel;\n\n    return i;\n};\n\nvar _isMiss = function( i )\n{\n    if ( i.y < 0 )\n        i.state = 'miss';\n\n    return i;\n};\n\nShot.prototype.processState = function()\n{\n    if ( !this.data[0] )\n        return false;\n\n    for ( var i = this.data.length - 1; i >= 0; i-- )\n        processStateEach( this.data[i], this.data );\n};\n\nvar processStateEach = function( i, data )\n{\n    if (\n        i.state == 'miss' ||\n        i.state == 'hit'\n    )\n        data.splice( i, 1 );\n};\n\nShot.prototype.hit = function( i )\n{\n    this.data[i].state = 'hit';\n};\n\nwindow.Shot = Shot;\n})();\n\n// EOF\n","(function(){ 'use strict';\n\n/*\n|\n|   state\n|\n|   ...mostly just manage which pane should be visible\n|\n*/\n\nvar State = {\n\n    current : '',\n\n    //\n    //  the available panes\n    //  'id' describes the element pane\n    //  'display' describes the display method for pane\n    //\n    available : [\n        {\n            id      : 'shooty-shoot',\n            display : 'flex',\n        },\n        {\n            id      : 'home',\n            display : 'flex',\n        },\n        {\n            id      : 'lose',\n            display : 'flex',\n        },\n        {\n            id      : 'win',\n            display : 'flex',\n        },\n    ],\n};\n\nState.set = function( s )\n{\n    for ( var i = this.available.length - 1; i >= 0; i-- )\n    {\n        if ( this.available[i].id == s )\n            this.apply( this.available[i] );\n    }\n};\n\nState.apply = function( s )\n{\n    this.current = s.id;\n\n    this.clear();\n\n    document\n        .getElementById( s.id )\n        .style\n        .display = s.display;\n};\n\nState.clear = function()\n{\n    for ( var i = this.available.length - 1; i >= 0; i-- )\n        document\n            .getElementById( this.available[i].id )\n            .style.display = 'none';\n};\n\nwindow.State = State;\n\n})();\n\n// EOF\n","(function(){ 'use strict';\n\n/*\n|\n|   utility\n|   \n|   ...reusable helper functions\n|\n*/\n\nvar U = {};\n\n/*\n|\n|   reload the whole thing\n|\n*/\nU.reload = function()\n{\n    window.location.reload();\n};\n\n/*\n|\n|   for loop\n|\n*/\nU.loop = function( arr, fn )\n{\n    for ( var i = arr.length - 1; i >= 0; i-- )\n        fn( arr[i] );\n};\n\nwindow.U = U;\n\n})();\n\n// EOF\n","(function(){ 'use strict';\n\n/*\n|\n|   views\n|\n*/\n\nvar view = {};\n\nview.shooter = function( d, ctx )\n{\n    ctx.beginPath();\n    ctx.fillStyle = 'rgba( 126, 192, 238, '+ d.currentOpacity +' )';\n    ctx.arc( d.x, d.y, d.r, 0, 2 * Math.PI );\n    ctx.fill();\n};\n\nview.enemies = function( d, ctx )\n{\n    for ( var i = d.length - 1; i >= 0; i-- )\n        enemy( d[i], ctx );\n};\n\nvar enemy = function( i, ctx )\n{\n    ctx.beginPath();\n    ctx.fillStyle = 'rgba( 255, 99, 71, 0.5 )';\n    ctx.arc( i.x, i.y, i.r, 0, 2 * Math.PI );\n    ctx.fill();\n};\n\nview.shots = function( d, ctx )\n{\n    for ( var i = d.length - 1; i >= 0; i-- )\n        shot( d[i], ctx );\n};\n\nvar shot = function( i, ctx )\n{\n    ctx.beginPath();\n    ctx.fillStyle = 'white';\n    ctx.rect( i.x, i.y, 5, 5 );\n    ctx.fill();\n};\n\nwindow.view = view;\n})();\n\n// EOF\n"],"sourceRoot":"/source/"}